<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Functions - Alan Language</title>

    <!-- Custom HTML head -->
    

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="Alan Interactive Documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />
    <meta property="og:title" content="Functions - Alan Language">
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://docs.alan-lang.org/alan-logo.png">
    <meta property="og:description" content="Alan Interactive Documentation">
    <meta property="og:url" content="https://docs.alan-lang.org">
    <meta name="twitter:card" content="summary" />

    <link rel="shortcut icon" href="favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
    

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->
    
        <link rel="stylesheet" href="css/solarized-light-hljs.css">
    
        <link rel="stylesheet" href="css/solarized-dark-hljs.css">
    

    
</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "solarized-dark" : "solarized-light";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) { }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.add(default_theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item "><a href="about_docs.html"><strong aria-hidden="true">1.</strong> About the documentation</a></li><li class="chapter-item "><a href="tutorials.html"><strong aria-hidden="true">2.</strong> Tutorials</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="getting_started.html"><strong aria-hidden="true">2.1.</strong> Getting Started</a></li><li class="chapter-item "><a href="examples.html"><strong aria-hidden="true">2.2.</strong> Examples</a></li></ol></li><li class="chapter-item "><a href="how_to.html"><strong aria-hidden="true">3.</strong> How-to Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="transpile_js.html"><strong aria-hidden="true">3.1.</strong> Transpile to Javascript</a></li><li class="chapter-item "><a href="contributing.html"><strong aria-hidden="true">3.2.</strong> Contribute to Alan</a></li></ol></li><li class="chapter-item expanded "><a href="topics.html"><strong aria-hidden="true">4.</strong> Topic Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="about_alan.html"><strong aria-hidden="true">4.1.</strong> About Alan</a></li><li class="chapter-item expanded "><a href="file_structure.html"><strong aria-hidden="true">4.2.</strong> Syntax and File Structure</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="many_forms_hello_world.html"><strong aria-hidden="true">4.2.1.</strong> The many forms of &quot;Hello, World!&quot;</a></li><li class="chapter-item "><a href="scope.html"><strong aria-hidden="true">4.2.2.</strong> Implied Structure: Scope</a></li><li class="chapter-item "><a href="constants.html"><strong aria-hidden="true">4.2.3.</strong> Constants</a></li><li class="chapter-item "><a href="events.html"><strong aria-hidden="true">4.2.4.</strong> Events</a></li><li class="chapter-item expanded "><a href="functions.html" class="active"><strong aria-hidden="true">4.2.5.</strong> Functions</a></li><li class="chapter-item "><a href="operators.html"><strong aria-hidden="true">4.2.6.</strong> Operators</a></li><li class="chapter-item "><a href="statements.html"><strong aria-hidden="true">4.2.7.</strong> Statements</a></li><li class="chapter-item "><a href="interfaces.html"><strong aria-hidden="true">4.2.8.</strong> Interfaces</a></li><li class="chapter-item "><a href="handlers.html"><strong aria-hidden="true">4.2.9.</strong> Handlers</a></li><li class="chapter-item "><a href="user_types.html"><strong aria-hidden="true">4.2.10.</strong> User Defined Types</a></li><li class="chapter-item "><a href="error_handling.html"><strong aria-hidden="true">4.2.11.</strong> Error Handling</a></li><li class="chapter-item "><a href="imports.html"><strong aria-hidden="true">4.2.12.</strong> Imports</a></li><li class="chapter-item "><a href="exports.html"><strong aria-hidden="true">4.2.13.</strong> Exports</a></li></ol></li><li class="chapter-item "><a href="modules.html"><strong aria-hidden="true">4.3.</strong> Module System</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="module_definition.html"><strong aria-hidden="true">4.3.1.</strong> Definition</a></li><li class="chapter-item "><a href="module_resolution.html"><strong aria-hidden="true">4.3.2.</strong> Resolution</a></li><li class="chapter-item "><a href="module_acquisition.html"><strong aria-hidden="true">4.3.3.</strong> Acquisition</a></li><li class="chapter-item "><a href="module_testing.html"><strong aria-hidden="true">4.3.4.</strong> Testing and Mocking</a></li><li class="chapter-item "><a href="module_mutation.html"><strong aria-hidden="true">4.3.5.</strong> Mutation and Permissioning</a></li></ol></li></ol></li><li class="chapter-item "><a href="reference.html"><strong aria-hidden="true">5.</strong> Reference Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="keywords.html"><strong aria-hidden="true">5.1.</strong> List of Keywords and Reserved Symbols</a></li><li class="chapter-item "><a href="builtins/built_ins.html"><strong aria-hidden="true">5.2.</strong> Built-ins</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="builtins/types.html"><strong aria-hidden="true">5.2.1.</strong> Built-in Types</a></li><li class="chapter-item "><a href="builtins/functions.html"><strong aria-hidden="true">5.2.2.</strong> Built-in Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="builtins/type_coercion.html"><strong aria-hidden="true">5.2.2.1.</strong> Type Coercion</a></li><li class="chapter-item "><a href="builtins/arithmetic.html"><strong aria-hidden="true">5.2.2.2.</strong> Arithmetic</a></li><li class="chapter-item "><a href="builtins/bitwise.html"><strong aria-hidden="true">5.2.2.3.</strong> Logical and Bitwise</a></li><li class="chapter-item "><a href="builtins/comparators.html"><strong aria-hidden="true">5.2.2.4.</strong> Comparators</a></li><li class="chapter-item "><a href="builtins/string_api.html"><strong aria-hidden="true">5.2.2.5.</strong> String Manipulation</a></li><li class="chapter-item "><a href="builtins/array_api.html"><strong aria-hidden="true">5.2.2.6.</strong> Array Manipulation</a></li><li class="chapter-item "><a href="builtins/hashmap_api.html"><strong aria-hidden="true">5.2.2.7.</strong> HashMap Manipulation</a></li><li class="chapter-item "><a href="builtins/ternary.html"><strong aria-hidden="true">5.2.2.8.</strong> &quot;Ternary&quot; Functions</a></li><li class="chapter-item "><a href="builtins/result_maybe.html"><strong aria-hidden="true">5.2.2.9.</strong> Error, Maybe, Result, and Either</a></li><li class="chapter-item "><a href="builtins/wait.html"><strong aria-hidden="true">5.2.2.10.</strong> Wait</a></li></ol></li><li class="chapter-item "><a href="builtins/operators.html"><strong aria-hidden="true">5.2.3.</strong> Built-in Operators</a></li><li class="chapter-item "><a href="builtins/interfaces.html"><strong aria-hidden="true">5.2.4.</strong> Built-in Interfaces</a></li></ol></li><li class="chapter-item "><a href="standard_library.html"><strong aria-hidden="true">5.3.</strong> Standard Library</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="std_app.html"><strong aria-hidden="true">5.3.1.</strong> @std/app</a></li><li class="chapter-item "><a href="std_seq.html"><strong aria-hidden="true">5.3.2.</strong> @std/seq</a></li><li class="chapter-item "><a href="std_cmd.html"><strong aria-hidden="true">5.3.3.</strong> @std/cmd</a></li><li class="chapter-item "><a href="std_deps.html"><strong aria-hidden="true">5.3.4.</strong> @std/deps</a></li><li class="chapter-item "><a href="std_trig.html"><strong aria-hidden="true">5.3.5.</strong> @std/trig</a></li></ol></li><li class="chapter-item "><a href="compiler_internals.html"><strong aria-hidden="true">5.4.</strong> Compiler Internals</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="amm_language_reference.html"><strong aria-hidden="true">5.4.1.</strong> AMM Language Reference</a></li><li class="chapter-item "><a href="aga_language_reference.html"><strong aria-hidden="true">5.4.2.</strong> AGA Language Reference</a></li><li class="chapter-item "><a href="alan_opcode_reference.html"><strong aria-hidden="true">5.4.3.</strong> Alan Opcode Reference</a></li></ol></li></ol></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
        
        <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
                
            </div>

            <h1 class="menu-title">Alan Language</h1>

            <div class="right-buttons">
                <a href="https://alan-lang.org" title="Home">
                    <i>Home</i>
                </a>
                <a href="https://alan-lang.org/blog.html" title="Blog">
                    <i>Blog</i>
                </a>
                <a href="https://github.com/alantech/alan" title="Github">
                    <i>Github</i>
                </a>
            </div>
        </div>

        
            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>
        

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>
                <h4><a class="header" href="#functions" id="functions">Functions</a></h4>
<p>Functions are where actual work happens. There are built-in functions and user-defined functions. The user-defined functions consist of a sequence of statements composing other functions, operators, types, etc.</p>
<h5><a class="header" href="#function-declarations" id="function-declarations">Function Declarations</a></h5>
<p>Declaration of functions works like so:</p>
<pre><code class="language-alan">// A named function with two arguments and a particular return type
fn functionName (firstArgument: argumentType, secondArgument: anotherType): returnType {
  ...statements...
}

// The return type can always be inferred in Alan so it is optional
fn functionName(firstArgument: argumentType, secondArgument: anotherType) {
  ...statements...
}

// This is a named function that does not return a value, so it has a return type of void
fn functionName (firstArgument: argumentType, secondArgument: anotherType): void {
  ...statements...
}

// If you have a named function with no arguments but want to annotate the return type
// you must include empty parens when defining it
fn functionName (): returnType {
  ... statements...
}

// But if you do not care about annotating the return type, you can omit it and immediately start
// the open brace for the function
fn functionName {
  ...statements...
}

// If the function is a single statement that is returned, it can be written with a shorthand syntax
fn addOne(i: int64) = i + 1 || 0;

// This syntax can be annotated with the return type, but that is unlikely to improve clarity
fn subtractOne(i: int64): int64 = i - 1 || 0;

// Anonymous functions can only be used as an assignable value either to a variable
const anonymousFunction = fn (firstArg: argType, secondArg: anotherType): returnType {
  ...statements...
}

// Or being passed into a higher-order function
const doubled = someArray.map(fn (val: int64) = val * 2 || 0);

// In situations where a function takes no arguments and it is unambiguous, the function can be
// represented solely with the curly braces
on eventname {
  ...statements...
}

// Equivalent to:
on eventname fn (): void {
  ...statements...
}
</code></pre>
<h5><a class="header" href="#function-dispatch" id="function-dispatch">Function Dispatch</a></h5>
<p>Alan uses multiple dispatch for determining which function to use when a function name is called. This means that the argument types and count are taken into consideration. Multiple functions with the same name may be declared as long as the argument types and/or counts are different between them. For example:</p>
<pre><code class="language-alan">fn someFn (arg1: string, arg2: bool): string {
  ...
}

fn someFn (arg1: int64, arg2: float64): int64 {
  ...
}
</code></pre>
<p>If you provide a <code>string</code> and <code>bool</code> to <code>someFn</code> it will use the first definition, and if provided an <code>int64</code> and <code>float64</code> it will use the second, while if you use any other combination of argument types or number of arguments, it will fail to compile.</p>
<h5><a class="header" href="#function-type" id="function-type">Function Type</a></h5>
<p>A function's type is simply <code>function</code> right now. The compiler will complain if the provided function's argument signature does not match the types the higher-order function expects, but it is not clearly documented by the type signature, itself. It is intended to expand this to use a syntax allowing more precise argument matching when passing functions to higher-order functions, so the user can know what arguments and return type their function is expected to have. This type syntax is proposed to look like:</p>
<pre><code>fn (firstType, secondType): returnType
</code></pre>
<p>Essentially the argument list with only the types specified and the return type. In this case, the parenthesis and <code>void</code> would be required to prevent ambiguity (and keep it easier to follow), so a side-effect-only function type would look like this:</p>
<pre><code>fn (): void
</code></pre>
<p>Because type names are specified in very specific situations, the extra colon and space in the type name should not be unambiguous to the compiler.</p>
<h5><a class="header" href="#function-calls" id="function-calls">Function Calls</a></h5>
<p>One of the kinds of statements you can write inside of a function is a function call. There are actually two syntaxes for function calls, standard form and method form.</p>
<p>Standard form looks like this:</p>
<pre><code class="language-alan">add(3, 2)
</code></pre>
<p>while method form looks like this:</p>
<pre><code class="language-alan">3.add(2)
</code></pre>
<p>Method form allows you to pull the first argument out of the function and treat the function call like an Object-Oriented Language's method syntax. This allows method chaining, which can be much more legible when the output of one function is the input of the next, without requiring a custom chaining syntax that some functional languages have adopted (eg <code>|&gt;</code> in F#). Eg, <code>3.add(2).mul(5).mod(3)</code> is equivalent to <code>mod(mul(add(3, 2), 5), 3)</code>.</p>

            </main>

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                
                    <a rel="prev" href="events.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="operators.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
        
            <a rel="prev" href="events.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>
        

        
            <a rel="next" href="operators.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </nav>

</div>



<!-- Analytics Tag -->
<script type="text/javascript">
    var localAddrs = ["localhost", "127.0.0.1", ""];

    // make sure we don't activate analytics if the developer is
    // inspecting the book locally...
    if (localAddrs.indexOf(document.location.hostname) === -1) {
        !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var t=analytics.methods[e];analytics[t]=analytics.factory(t)}analytics.load=function(e,t){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=t};analytics.SNIPPET_VERSION="4.1.0";
            analytics.load("fGya8GY5wLqdnLzyXnGM2HjYglPszWS0");
            analytics.page("Docs", "Functions");
        }}();
    }
</script>


    <script type="text/javascript">
        window.playpen_line_numbers = true;
    </script>



    <script type="text/javascript">
        window.playpen_copyable = true;
    </script>



    <script src="ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>



    <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="searcher.js" type="text/javascript" charset="utf-8"></script>


<!-- BigInt is not defined in Safari. Define it before loading bundle.js -->
<script type="text/javascript">
    window.BigInt = window.BigInt || function() {}
</script>

<script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="highlight.js" type="text/javascript" charset="utf-8"></script>
<!-- Custom JS scripts -->

    <script type="text/javascript" src="bundle.js"></script>

    <script type="text/javascript" src="hljs-alan.min.js"></script>

    <script type="text/javascript" src="mode-rust.js"></script>

    <script type="text/javascript" src="theme-solarized_dark.js"></script>

    <script type="text/javascript" src="theme-solarized_light.js"></script>

<script src="book.js" type="text/javascript" charset="utf-8"></script>

</body>
</html>
