<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Resolution - Alan Language</title>

    <!-- Custom HTML head -->
    

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="Alan Interactive Documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />
    <meta property="og:title" content="Resolution - Alan Language">
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://docs.alan-lang.org/alan-logo.png">
    <meta property="og:description" content="Alan Interactive Documentation">
    <meta property="og:url" content="https://docs.alan-lang.org">
    <meta name="twitter:card" content="summary" />

    <link rel="shortcut icon" href="favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
    

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->
    
        <link rel="stylesheet" href="css/solarized-light-hljs.css">
    
        <link rel="stylesheet" href="css/solarized-dark-hljs.css">
    

    
</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "solarized-dark" : "solarized-light";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) { }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.add(default_theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item "><a href="about_docs.html"><strong aria-hidden="true">1.</strong> About the documentation</a></li><li class="chapter-item "><a href="tutorials.html"><strong aria-hidden="true">2.</strong> Tutorials</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="getting_started.html"><strong aria-hidden="true">2.1.</strong> Getting Started</a></li><li class="chapter-item "><a href="examples.html"><strong aria-hidden="true">2.2.</strong> Examples</a></li></ol></li><li class="chapter-item "><a href="how_to.html"><strong aria-hidden="true">3.</strong> How-to Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="transpile_js.html"><strong aria-hidden="true">3.1.</strong> Transpile to Javascript</a></li><li class="chapter-item "><a href="contributing.html"><strong aria-hidden="true">3.2.</strong> Contribute to Alan</a></li></ol></li><li class="chapter-item expanded "><a href="topics.html"><strong aria-hidden="true">4.</strong> Topic Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="about_alan.html"><strong aria-hidden="true">4.1.</strong> About Alan</a></li><li class="chapter-item "><a href="file_structure.html"><strong aria-hidden="true">4.2.</strong> Syntax and File Structure</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="many_forms_hello_world.html"><strong aria-hidden="true">4.2.1.</strong> The many forms of &quot;Hello, World!&quot;</a></li><li class="chapter-item "><a href="scope.html"><strong aria-hidden="true">4.2.2.</strong> Implied Structure: Scope</a></li><li class="chapter-item "><a href="constants.html"><strong aria-hidden="true">4.2.3.</strong> Constants</a></li><li class="chapter-item "><a href="events.html"><strong aria-hidden="true">4.2.4.</strong> Events</a></li><li class="chapter-item "><a href="functions.html"><strong aria-hidden="true">4.2.5.</strong> Functions</a></li><li class="chapter-item "><a href="operators.html"><strong aria-hidden="true">4.2.6.</strong> Operators</a></li><li class="chapter-item "><a href="statements.html"><strong aria-hidden="true">4.2.7.</strong> Statements</a></li><li class="chapter-item "><a href="interfaces.html"><strong aria-hidden="true">4.2.8.</strong> Interfaces</a></li><li class="chapter-item "><a href="handlers.html"><strong aria-hidden="true">4.2.9.</strong> Handlers</a></li><li class="chapter-item "><a href="user_types.html"><strong aria-hidden="true">4.2.10.</strong> User Defined Types</a></li><li class="chapter-item "><a href="error_handling.html"><strong aria-hidden="true">4.2.11.</strong> Error Handling</a></li><li class="chapter-item "><a href="imports.html"><strong aria-hidden="true">4.2.12.</strong> Imports</a></li><li class="chapter-item "><a href="exports.html"><strong aria-hidden="true">4.2.13.</strong> Exports</a></li></ol></li><li class="chapter-item expanded "><a href="modules.html"><strong aria-hidden="true">4.3.</strong> Module System</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="module_definition.html"><strong aria-hidden="true">4.3.1.</strong> Definition</a></li><li class="chapter-item expanded "><a href="module_resolution.html" class="active"><strong aria-hidden="true">4.3.2.</strong> Resolution</a></li><li class="chapter-item "><a href="module_acquisition.html"><strong aria-hidden="true">4.3.3.</strong> Acquisition</a></li><li class="chapter-item "><a href="module_testing.html"><strong aria-hidden="true">4.3.4.</strong> Testing and Mocking</a></li><li class="chapter-item "><a href="module_mutation.html"><strong aria-hidden="true">4.3.5.</strong> Mutation and Permissioning</a></li></ol></li></ol></li><li class="chapter-item "><a href="reference.html"><strong aria-hidden="true">5.</strong> Reference Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="keywords.html"><strong aria-hidden="true">5.1.</strong> List of Keywords and Reserved Symbols</a></li><li class="chapter-item "><a href="builtins/built_ins.html"><strong aria-hidden="true">5.2.</strong> Built-ins</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="builtins/types.html"><strong aria-hidden="true">5.2.1.</strong> Built-in Types</a></li><li class="chapter-item "><a href="builtins/functions.html"><strong aria-hidden="true">5.2.2.</strong> Built-in Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="builtins/type_coercion.html"><strong aria-hidden="true">5.2.2.1.</strong> Type Coercion</a></li><li class="chapter-item "><a href="builtins/arithmetic.html"><strong aria-hidden="true">5.2.2.2.</strong> Arithmetic</a></li><li class="chapter-item "><a href="builtins/bitwise.html"><strong aria-hidden="true">5.2.2.3.</strong> Logical and Bitwise</a></li><li class="chapter-item "><a href="builtins/comparators.html"><strong aria-hidden="true">5.2.2.4.</strong> Comparators</a></li><li class="chapter-item "><a href="builtins/string_api.html"><strong aria-hidden="true">5.2.2.5.</strong> String Manipulation</a></li><li class="chapter-item "><a href="builtins/array_api.html"><strong aria-hidden="true">5.2.2.6.</strong> Array Manipulation</a></li><li class="chapter-item "><a href="builtins/hashmap_api.html"><strong aria-hidden="true">5.2.2.7.</strong> HashMap Manipulation</a></li><li class="chapter-item "><a href="builtins/ternary.html"><strong aria-hidden="true">5.2.2.8.</strong> &quot;Ternary&quot; Functions</a></li><li class="chapter-item "><a href="builtins/result_maybe.html"><strong aria-hidden="true">5.2.2.9.</strong> Error, Maybe, Result, and Either</a></li><li class="chapter-item "><a href="builtins/wait.html"><strong aria-hidden="true">5.2.2.10.</strong> Wait</a></li></ol></li><li class="chapter-item "><a href="builtins/operators.html"><strong aria-hidden="true">5.2.3.</strong> Built-in Operators</a></li><li class="chapter-item "><a href="builtins/interfaces.html"><strong aria-hidden="true">5.2.4.</strong> Built-in Interfaces</a></li></ol></li><li class="chapter-item "><a href="standard_library.html"><strong aria-hidden="true">5.3.</strong> Standard Library</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="std_app.html"><strong aria-hidden="true">5.3.1.</strong> @std/app</a></li><li class="chapter-item "><a href="std_seq.html"><strong aria-hidden="true">5.3.2.</strong> @std/seq</a></li><li class="chapter-item "><a href="std_cmd.html"><strong aria-hidden="true">5.3.3.</strong> @std/cmd</a></li><li class="chapter-item "><a href="std_deps.html"><strong aria-hidden="true">5.3.4.</strong> @std/deps</a></li><li class="chapter-item "><a href="std_trig.html"><strong aria-hidden="true">5.3.5.</strong> @std/trig</a></li></ol></li><li class="chapter-item "><a href="compiler_internals.html"><strong aria-hidden="true">5.4.</strong> Compiler Internals</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="amm_language_reference.html"><strong aria-hidden="true">5.4.1.</strong> AMM Language Reference</a></li><li class="chapter-item "><a href="aga_language_reference.html"><strong aria-hidden="true">5.4.2.</strong> AGA Language Reference</a></li><li class="chapter-item "><a href="alan_opcode_reference.html"><strong aria-hidden="true">5.4.3.</strong> Alan Opcode Reference</a></li></ol></li></ol></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
        
        <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
                
            </div>

            <h1 class="menu-title">Alan Language</h1>

            <div class="right-buttons">
                <a href="https://alan-lang.org" title="Home">
                    <i>Home</i>
                </a>
                <a href="https://alan-lang.org/blog.html" title="Blog">
                    <i>Blog</i>
                </a>
                <a href="https://github.com/alantech/alan" title="Github">
                    <i>Github</i>
                </a>
            </div>
        </div>

        
            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>
        

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>
                <h4><a class="header" href="#resolution" id="resolution">Resolution</a></h4>
<p>The module resolution algorithm is inspired by multiple languages, but primarily Node.js. The recursive module resolution system makes it much easier to upgrade dependencies even if some of your own dependencies still depend on an older version of them.</p>
<p>This sounds like a security issue, but in practice it's better than the flat dependency model, as security updates can be applied as rapidly as possible to most of the codebase and not cause pain in the process, while a flat dependency model requires lockstep upgrades, so you cannot upgrade dependencies until all have released a version using the updated dependency, holding you back and causing weird chicken-and-egg issues. And tooling has sprung up in the Node community to track the laggards on updating and to override their dependency versions if necessary.</p>
<p>However, one of the issues with a tree-based module resolution system is many duplicate dependencies. Dependency hoisting and keeping the hierarchy as flat as possible helps eliminate this.</p>
<p>The other major issue with Node.js's module model is reducing the friction on using third-party modules so much that it is <em>easier</em> to use third party modules than your own code. Third party modules can be loaded with a memorable name that doesn't change no matter where you are in the codebase, while your own code has to keep track of its relative location in the filesystem hierarchy anywhere it is used.</p>
<p>Combine that with Node.js's intentionally small standard library and there are lots of tiny modules that implement basic functionality because it wasn't available and people wrote and released their own implementations and other people installed the first ones they found, since it is so easy to do, and such cross-cutting core dependencies would show up in many different places in your project, each requiring a slightly different relative path invocation if it was a home-grown source file.</p>
<p>Alan's module resolution system attempts to address these concerns by having separate directories for third-party dependencies you install and being able to uniformly name modules within your own codebase clearly.</p>
<p>While relative pathing is necessary for a module to reference its submodule and it is possible to traverse up the tree and back down, having <code>../</code> in your import path should be considered an anti-pattern in Alan.</p>
<p>A project directory structure like this:</p>
<pre><code>ecommerceco/
├── dependencies/
│   └── alantech/
│       └── sqlclient/
│           ├── index.ln
│           ├── mariadb.ln
│           ├── mysql.db
│           ├── postgres.ln
│           └── sqlserver.ln
├── index.ln
└── modules/
    ├── logger.ln
    ├── models/
    │   ├── index.ln
    │   ├── products.ln
    │   ├── purchases.ln
    │   ├── suppliers.ln
    │   └── users.ln
    └── views/
        ├── cart.ln
        ├── home.ln
        ├── index.ln
        ├── product_details.ln
        └── purchase.ln
</code></pre>
<p>Allows the root <code>index.ln</code> file to reference the logger with just <code>import @logger</code> to get <code>./modules/logger.ln</code> and the models with just <code>import @models</code> while the <code>./modules/models/index.ln</code> file can get the SQL client by <code>import @alantech/sqlclient</code> that comes from <code>./dependencies/alantech/sqlclient/index.ln</code></p>
<p>Similarly, <code>./modules/views/index.ln</code> is referenced as just <code>@views</code> by the <code>./index.ln</code> file and can reference the models with just <code>@models</code> as well. Module names are clear and memorable regardless of the origin: third-party and your own code can be treated the same, so there is no perverse incentive to publish helper modules you only use within your own project.</p>

            </main>

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                
                    <a rel="prev" href="module_definition.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="module_acquisition.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
        
            <a rel="prev" href="module_definition.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>
        

        
            <a rel="next" href="module_acquisition.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </nav>

</div>



<!-- Analytics Tag -->
<script type="text/javascript">
    var localAddrs = ["localhost", "127.0.0.1", ""];

    // make sure we don't activate analytics if the developer is
    // inspecting the book locally...
    if (localAddrs.indexOf(document.location.hostname) === -1) {
        !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var t=analytics.methods[e];analytics[t]=analytics.factory(t)}analytics.load=function(e,t){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=t};analytics.SNIPPET_VERSION="4.1.0";
            analytics.load("fGya8GY5wLqdnLzyXnGM2HjYglPszWS0");
            analytics.page("Docs", "Resolution");
        }}();
    }
</script>


    <script type="text/javascript">
        window.playpen_line_numbers = true;
    </script>



    <script type="text/javascript">
        window.playpen_copyable = true;
    </script>



    <script src="ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>



    <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="searcher.js" type="text/javascript" charset="utf-8"></script>


<!-- BigInt is not defined in Safari. Define it before loading bundle.js -->
<script type="text/javascript">
    window.BigInt = window.BigInt || function() {}
</script>

<script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="highlight.js" type="text/javascript" charset="utf-8"></script>
<!-- Custom JS scripts -->

    <script type="text/javascript" src="bundle.js"></script>

    <script type="text/javascript" src="hljs-alan.min.js"></script>

    <script type="text/javascript" src="mode-rust.js"></script>

    <script type="text/javascript" src="theme-solarized_dark.js"></script>

    <script type="text/javascript" src="theme-solarized_light.js"></script>

<script src="book.js" type="text/javascript" charset="utf-8"></script>

</body>
</html>
