<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Alan Language</title>

    <!-- Custom HTML head -->
    

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="Alan Interactive Documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />
    <meta property="og:title" content="Alan Language">
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://docs.alan-lang.org/alan-logo.png">
    <meta property="og:description" content="Alan Interactive Documentation">
    <meta property="og:url" content="https://docs.alan-lang.org">
    <meta name="twitter:card" content="summary" />

    <link rel="shortcut icon" href="favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
    

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->
    
        <link rel="stylesheet" href="css/solarized-light-hljs.css">
    
        <link rel="stylesheet" href="css/solarized-dark-hljs.css">
    

    
</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "solarized-dark" : "solarized-light";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) { }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.add(default_theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item "><a href="getting_started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li class="chapter-item "><a href="about_alan.html"><strong aria-hidden="true">2.</strong> About Alan</a></li><li class="chapter-item "><a href="foreword.html"><strong aria-hidden="true">3.</strong> Foreword</a></li><li class="chapter-item "><a href="file_structure.html"><strong aria-hidden="true">4.</strong> Syntax and File Structure</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="scope.html"><strong aria-hidden="true">4.1.</strong> Implied Structure: Scope</a></li><li class="chapter-item "><a href="constants.html"><strong aria-hidden="true">4.2.</strong> Constants</a></li><li class="chapter-item "><a href="events.html"><strong aria-hidden="true">4.3.</strong> Events</a></li><li class="chapter-item "><a href="functions.html"><strong aria-hidden="true">4.4.</strong> Functions</a></li><li class="chapter-item "><a href="operators.html"><strong aria-hidden="true">4.5.</strong> Operators</a></li><li class="chapter-item "><a href="statements.html"><strong aria-hidden="true">4.6.</strong> Statements</a></li><li class="chapter-item "><a href="interfaces.html"><strong aria-hidden="true">4.7.</strong> Interfaces</a></li><li class="chapter-item "><a href="handlers.html"><strong aria-hidden="true">4.8.</strong> Handlers</a></li><li class="chapter-item "><a href="user_types.html"><strong aria-hidden="true">4.9.</strong> User Defined Types</a></li><li class="chapter-item "><a href="error_handling.html"><strong aria-hidden="true">4.10.</strong> Error Handling</a></li><li class="chapter-item "><a href="imports.html"><strong aria-hidden="true">4.11.</strong> Imports</a></li><li class="chapter-item "><a href="exports.html"><strong aria-hidden="true">4.12.</strong> Exports</a></li><li class="chapter-item "><a href="keywords.html"><strong aria-hidden="true">4.13.</strong> List of Keywords and Reserved Symbols</a></li></ol></li><li class="chapter-item "><a href="modules.html"><strong aria-hidden="true">5.</strong> Module System</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="module_definition.html"><strong aria-hidden="true">5.1.</strong> Definition</a></li><li class="chapter-item "><a href="module_resolution.html"><strong aria-hidden="true">5.2.</strong> Resolution</a></li><li class="chapter-item "><a href="module_acquisition.html"><strong aria-hidden="true">5.3.</strong> Acquisition</a></li><li class="chapter-item "><a href="module_testing.html"><strong aria-hidden="true">5.4.</strong> Testing and Mocking</a></li><li class="chapter-item "><a href="module_mutation.html"><strong aria-hidden="true">5.5.</strong> Mutation and Permissioning</a></li></ol></li><li class="chapter-item "><a href="builtins/built_ins.html"><strong aria-hidden="true">6.</strong> Built-ins</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="builtins/types.html"><strong aria-hidden="true">6.1.</strong> Built-in Types</a></li><li class="chapter-item "><a href="builtins/functions.html"><strong aria-hidden="true">6.2.</strong> Built-in Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="builtins/type_coercion.html"><strong aria-hidden="true">6.2.1.</strong> Type Coercion</a></li><li class="chapter-item "><a href="builtins/arithmetic.html"><strong aria-hidden="true">6.2.2.</strong> Arithmetic</a></li><li class="chapter-item "><a href="builtins/bitwise.html"><strong aria-hidden="true">6.2.3.</strong> Logical and Bitwise</a></li><li class="chapter-item "><a href="builtins/comparators.html"><strong aria-hidden="true">6.2.4.</strong> Comparators</a></li><li class="chapter-item "><a href="builtins/string_api.html"><strong aria-hidden="true">6.2.5.</strong> String Manipulation</a></li><li class="chapter-item "><a href="builtins/array_api.html"><strong aria-hidden="true">6.2.6.</strong> Array Manipulation</a></li><li class="chapter-item "><a href="builtins/hashmap_api.html"><strong aria-hidden="true">6.2.7.</strong> HashMap Manipulation</a></li><li class="chapter-item "><a href="builtins/ternary.html"><strong aria-hidden="true">6.2.8.</strong> &quot;Ternary&quot; Functions</a></li><li class="chapter-item "><a href="builtins/result_maybe.html"><strong aria-hidden="true">6.2.9.</strong> Error, Maybe, Result, and Either</a></li><li class="chapter-item "><a href="builtins/wait.html"><strong aria-hidden="true">6.2.10.</strong> Wait</a></li></ol></li><li class="chapter-item "><a href="builtins/operators.html"><strong aria-hidden="true">6.3.</strong> Built-in Operators</a></li><li class="chapter-item "><a href="builtins/interfaces.html"><strong aria-hidden="true">6.4.</strong> Built-in Interfaces</a></li></ol></li><li class="chapter-item "><a href="standard_library.html"><strong aria-hidden="true">7.</strong> Standard Library</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="std_app.html"><strong aria-hidden="true">7.1.</strong> @std/app</a></li><li class="chapter-item "><a href="std_seq.html"><strong aria-hidden="true">7.2.</strong> @std/seq</a></li><li class="chapter-item "><a href="std_cmd.html"><strong aria-hidden="true">7.3.</strong> @std/cmd</a></li><li class="chapter-item "><a href="std_deps.html"><strong aria-hidden="true">7.4.</strong> @std/deps</a></li><li class="chapter-item "><a href="std_trig.html"><strong aria-hidden="true">7.5.</strong> @std/trig</a></li></ol></li><li class="chapter-item "><a href="examples_with_explanations.html"><strong aria-hidden="true">8.</strong> Examples with Explanations</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="many_forms_hello_world.html"><strong aria-hidden="true">8.1.</strong> The many forms of &quot;Hello, World!&quot;</a></li><li class="chapter-item "><a href="advanced_examples.html"><strong aria-hidden="true">8.2.</strong> More advanced examples</a></li></ol></li><li class="chapter-item "><a href="transpile_js.html"><strong aria-hidden="true">9.</strong> Transpile to Javascript</a></li><li class="chapter-item "><a href="contributing.html"><strong aria-hidden="true">10.</strong> Contributing to Alan</a></li><li class="chapter-item "><a href="compiler_internals.html"><strong aria-hidden="true">11.</strong> Compiler Internals</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="amm_language_reference.html"><strong aria-hidden="true">11.1.</strong> AMM Language Reference</a></li><li class="chapter-item "><a href="aga_language_reference.html"><strong aria-hidden="true">11.2.</strong> AGA Language Reference</a></li><li class="chapter-item "><a href="alan_opcode_reference.html"><strong aria-hidden="true">11.3.</strong> Alan Opcode Reference</a></li></ol></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
        
        <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
                
            </div>

            <h1 class="menu-title">Alan Language</h1>

            <div class="right-buttons">
                <a href="https://alan-lang.org" title="Home">
                    <i>Home</i>
                </a>
                <a href="https://alan-lang.org/blog.html" title="Blog">
                    <i>Blog</i>
                </a>
                <a href="https://github.com/alantech/alan" title="Github">
                    <i>Github</i>
                </a>
            </div>
        </div>

        
            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>
        

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>
                <h1><a class="header" href="#getting-started" id="getting-started">Getting Started</a></h1>
<p>This guide walks you through the steps needed to get the Alan compiler and VM on your local machine. You can also:</p>
<ul>
<li>Read, edit and run any of the idiomatic <a href="./advanced_examples.html">Alan examples</a></li>
<li>Read more about <a href="https://alan-lang.org/why_alan.html">Why we created Alan</a></li>
<li><a href="./contributing.html">Contribute to Alan</a></li>
</ul>
<h2><a class="header" href="#installation" id="installation">Installation</a></h2>
<p>For users on Windows, MacOS, and Ubuntu Linux with x86-64 processors, you can <a href="https://github.com/alantech/alan/releases">download the Alan executable</a>, extract it into your <code>$PATH</code>/<code>%PATH%</code> (eg <code>/usr/local/bin</code> on MacOS and Ubuntu, and <code>C:\Windows</code> on Windows if you don't want to add a new executable path to your environment variable), and you're ready to go!</p>
<p>For Linux:</p>
<pre><code class="language-bash">wget https://github.com/alantech/alan/releases/download/v0.1.7/alan-ubuntu.tar.gz
tar -xzf alan-ubuntu.tar.gz
sudo mv alan /usr/local/bin/alan
</code></pre>
<p>For MacOS:</p>
<pre><code class="language-bash">curl -OL https://github.com/alantech/alan/releases/download/v0.1.7/alan-macos.tar.gz
tar -xzf alan-macos.tar.gz
# sudo mkdir -p /usr/local/bin if the folder does not exist
sudo mv alan /usr/local/bin/alan
</code></pre>
<p>For Windows:</p>
<pre><code class="language-ps1">Invoke-WebRequest -OutFile alan-windows.zip -Uri https://github.com/alantech/alan/releases/download/v0.1.7/alan-windows.zip
Expand-Archive -Path alan-windows.zip -DestinationPath C:\windows
</code></pre>
<h3><a class="header" href="#source-installation" id="source-installation">Source Installation</a></h3>
<p>If you wish to contribute to Alan, or if your operating system and/or CPU architecture do not match the above, you'll need a development environment to build Alan locally:</p>
<ul>
<li>git (any recent version should work)</li>
<li>Node.js &gt;=10.20.1, &lt;14.0.0</li>
<li>Rust &gt;=1.41.1</li>
<li>A complete C toolchain (gcc, clang, msvc)</li>
</ul>
<p>Once those are installed, simply:</p>
<pre><code class="language-bash">git clone https://github.com/alantech/alan
cd alan
make
sudo make install
</code></pre>
<h2><a class="header" href="#writing-a-hello-world-example" id="writing-a-hello-world-example">Writing a Hello, World! Example</a></h2>
<p>After installation, first create a file named <code>hello_world.ln</code> and then write the following within it:</p>
<pre><pre class="playpen"><code class="language-rust editable">import @std/app

on app.start {
  app.print(&quot;Hello, World!&quot;);
  emit app.exit 0;
}
</code></pre></pre>
<p>Now compile the code to produce an AGC binary and then run it which prints <code>Hello, World!</code>:</p>
<pre><code class="language-bash">alan compile hello_world.ln hello_world.agc
alan run hello_world.agc
</code></pre>
<p>You can also run the source file directly:</p>
<pre><code class="language-bash">alan hello_world.ln
</code></pre>
<p>which will internally compile the code then run it, but you have to pay the compilation costs on each run.</p>
<h2><a class="header" href="#syntax-highlighting" id="syntax-highlighting">Syntax Highlighting</a></h2>
<p>We support syntax highlighting for <a href="https://github.com/alantech/alan/issues/257">some</a> text editors and are actively working to add more. Contributions are most welcome.</p>
<h1><a class="header" href="#about-alan" id="about-alan">About Alan</a></h1>
<p>Alan is an implicitly-parallel, statically-compiled, event-based, type-inferred language with a familiar syntax and many compile-time and run-time safety guarantees.</p>
<ul>
<li>The compiler can determine which array operations are safely parallelizable and automatically distributes them across a threadpool.</li>
<li>The runtime can determine which operations are IO operations and automatically <code>async/await</code> them, as well as automatically batch IO operations that can be executed in parallel safely.</li>
<li>The runtime has automatic memory management without a GC made possible by the language scoping semantics.</li>
<li>The type system enforces safe code to prevent most runtime errors (out-of-memory being a notable exception).</li>
<li>The module system has a built-in mocking mechanism (with no runtime performance penalty) that can be used for fine-grained permissioning of access to the standard library for third-party libraries.</li>
<li>Aggressive function inlining and dead-code removal to make sure unused code isn't even available in the output to potentially exploit.</li>
</ul>
<p>To accomplish this, Alan makes one single, significant trade-off versus other programming languages: Functions in Alan are all acyclic directed graphs. No arbitrary loops or recursion are allowed.</p>
<p>This does not mean that you can't loop over data or write recursive algorithms, just that they are provided through <a href="./std_seq.html">controlled built-in functions</a> that the compiler and runtime can reason about to provide automatic parallelization when possible, or to force handling a recursion error instead of crashing on a stack overflow.</p>
<p>This means that the code that you write in Alan is not <em>quite</em> Turing-complete<sup class="footnote-reference"><a href="#1">1</a></sup>. But we believe that we have cut &quot;close enough&quot; to Turing-completeness and provided enough controlled mechanisms to fill the gaps that the advantages in having predictable functions outweigh the few places where Alan's syntax is slightly more awkward than its peers'.This allows the runtime to be able to judge when parallelization makes sense based on the data to be processed and the complexity of the code to be executed.</p>
<p>Alan solves the Halting Problem -- by sidestepping it. Alan pushes you to write deterministic code with known execution patterns, and forces eventual halting of non-deterministic code by wrapping it in constructs that demand a maximum number of loops before erroring out. We believe this is what the vast majority of developers and companies alike want from their language because while not every question you can ask of a computer will ever return an answer, only those that do are useful to humanity.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Technically an escape hatch through the event loop has been left open for very awkward recursive calls. This does not impact the advantages of the runtime for the language, however, and can be useful if absolutely necessary, but please reach out if you feel the need to use it, as that means either you're doing something wrong, or there's something missing to the language that should be added.</p>
</div>
<h1><a class="header" href="#foreword" id="foreword">Foreword</a></h1>
<p>The Alan Language Reference is broken into three major sections: the <a href="./file_structure.html">Syntax and File Structure</a> of the Alan source files that you as the developer would directly write, the <a href="./modules.html">Module System</a> that Alan uses to link your various source files and dependencies together which influences how you structure and reason about your codebase, and the <a href="./builtins/built_ins.html">Built-ins</a> that provide the building blocks necessary to be productive in the language and how they work.</p>
<p>The examples will be given as code snippets for clarity. To see the grammar definitions, please review <a href="https://github.com/alantech/alan/blob/master/compiler/src/ln/Ln.g4">the parser definition in the compiler</a> as that is guaranteed to be the correct grammar. The sole exception is the <a href="./keywords.html">List of Keywords and Reserved Symbols</a> as a quick reference to what is disallowed as variable, function, or operator names.</p>
<p>However, this reference assumes this isn't your first introduction to programming. With the exception of the <a href="./modules.html">Module System</a>, as that brings in something new, there won't be any explanations for <em>why</em> something is useful or <em>when</em> to use one particular construct versus another. There are many excellent Intro to Programming tutorials out there that have been refined for years for more popular programming languages, and we as the authors of Alan would recommend that you learn to program with one of these well-thought-out tutorials:</p>
<ul>
<li>Structure and Interpretation of Computer Programs, a classic that is available in both <a href="https://wizardforcel.gitbooks.io/sicp-in-python/content/index.html">Python</a> and <a href="https://mitpress.mit.edu/sites/default/files/sicp/index.html">Scheme</a>. Using both at the same time is great for separating the concepts from the specific syntax of any given language.</li>
<li><a href="https://poignant.guide/">Why's Poignant Guide to Ruby</a> is excellent for those who want a more conversational style or have had problems with the &quot;Professorial&quot; style of other intro to programming books.</li>
<li><a href="https://eloquentjavascript.net/">Eloquent Javascript</a> is the quickest way to be introduced to event-driven programming, which Javascript is the most well-known example of a language built on that foundation, and also for those who want to pair programming skills with artistic skills due to Javascript's special place within web browsers.</li>
<li><a href="http://math.hws.edu/javanotes/">Introduction to Programming Using Java</a> is good for those who want to get immediately-employable skills and those who want to better understand what exactly their computer is doing, as this is the first typed and compiled language on the list, though that makes it much stricter and requires the learner to have more patience.</li>
</ul>
<p>We would also highly recommend that anyone wishing to learn how to program become a programming language &quot;polyglot.&quot; Not only will you better understand the fundamental concepts better, but you'll appreciate which programming languages are more appropriate for particular tasks than other programming languages.</p>
<p>We believe in Alan and we believe that it can handle more use-cases better than most languages most of the time, but we also know that Alan is very young and if you are just starting to program, we are not ready to support you, yet. But do come back once you've grown as a developer, and you start to get frustrated at the complexity needed to take full advantage of your computing resources. That's what Alan is here for. :)</p>
<h3><a class="header" href="#syntax-and-file-structure" id="syntax-and-file-structure">Syntax and File structure</a></h3>
<p>Every Alan file is made up of two parts, the <code>imports</code> and <code>body</code>. In Alan all imports must be declared at the beginning of the file, and once anything else is declared <code>imports</code> are no longer allowed.</p>
<p>The <code>body</code> is simply everything else that can be declared in the file: <code>types</code>, <code>constants</code>, <code>functions</code>, <code>operators</code>, <code>interfaces</code>, <code>events</code>, and <code>event handlers</code>. Of these everything but <code>event handlers</code> can be <code>exports</code> that can be used by other modules, even things simply imported from another module. These two levels of &quot;visibility&quot; in the file are part of an implied structure: scope.</p>
<h4><a class="header" href="#implied-structure-scope" id="implied-structure-scope">Implied Structure: Scope</a></h4>
<p>Scoping is a concept common in many programming languages, it is a way to determine what is available for use in your code or not, and can be thought of as a tree of maps you can check for a specified name. Module-less languages like C have a single primary scope defined across the entire project (as all source files are simply concatenated together) while functions and blocks<sup class="footnote-reference"><a href="#1">1</a></sup> have their own nested scopes.</p>
<p>Module-based languages tend to have two scopes per module, the private module-level scope and the public export scope. Java allows only a single exported element per file (but multiple files per module, remember) declared <code>public</code> while private elements are simply left undeclared. Node.js, Python, etc all have this two scope set for each module.</p>
<p>Alan continues that tradition here for ease of use, and like many of the languages does have a wholly-internal root scope that built-in types, functions, etc are defined in that all scopes eventually inherit from. The <a href="./builtins/built_ins.html">Built-ins</a> section is documentation of this root scope and what it automatically brings to every module.</p>
<!-- TODO: Add some diagrams of scope as different nested sets via Venn diagrams. -->
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>For those who don't know what blocks are, they are the inner bodies of if statements, while/for loops, etc in C, Java, Javascript, Python, etc, and usually surrounded by curly braces. For those who still don't know and must live in some parallel universe where LISP won, they're like immediately-invoked function expressions (IIFEs), and this is exactly how Alan implements that concept under the hood.</p>
</div>
<h4><a class="header" href="#constants" id="constants">Constants</a></h4>
<p>Module-level constants allow the user to define fixed data that is shared across functions (or exported to be shared across modules). The syntax is simply:</p>
<pre><code class="language-alan">const varname: typename = constvalue;
const othervar = otherconstval;
</code></pre>
<p>The <code>typename</code> is not required due to type inference, but can be added for clarity.</p>
<p>For those coming from Javascript/Typescript, <code>const</code> in Alan is much more strict. A constant is truly constant, not just a variable that can't be reassigned with a new struct. This means the following is invalid:</p>
<pre><code class="language-alan">const pushedVals = new Array&lt;int64&gt; [ ];

fn saveForLater(val: int64) {
  pushedVals.push(val);
}
</code></pre>
<p>Shared mutable global state inherently prevents parallelization, so it is discouraged.</p>
<h4><a class="header" href="#events" id="events">Events</a></h4>
<p>Events are sources for activity in Alan. No code is run that isn't triggered by an event. Event declaration is relatively simple:</p>
<pre><code class="language-alan">event eventName: typename
</code></pre>
<p>where <code>eventName</code> is the name of the event. The <code>typename</code> annotation for events is required, unlike other places within the codebase. This requirement may change in the future as the event handler(s) listening to the event, and/or the event emit statement(s) emitting to the event could determine the type of the event, but it would impact the clarity of code surrounding the event as well as make the parser more complex.</p>
<h4><a class="header" href="#functions" id="functions">Functions</a></h4>
<p>Functions are where actual work happens. There are built-in functions and user-defined functions. The user-defined functions consist of a sequence of statements composing other functions, operators, types, etc.</p>
<h5><a class="header" href="#function-declarations" id="function-declarations">Function Declarations</a></h5>
<p>Declaration of functions works like so:</p>
<pre><code class="language-alan">// A named function with two arguments and a particular return type
fn functionName (firstArgument: argumentType, secondArgument: anotherType): returnType {
  ...statements...
}

// The return type can always be inferred in Alan so it is optional
fn functionName(firstArgument: argumentType, secondArgument: anotherType) {
  ...statements...
}

// This is a named function that does not return a value, so it has a return type of void
fn functionName (firstArgument: argumentType, secondArgument: anotherType): void {
  ...statements...
}

// If you have a named function with no arguments but want to annotate the return type
// you must include empty parens when defining it
fn functionName (): returnType {
  ... statements...
}

// But if you do not care about annotating the return type, you can omit it and immediately start
// the open brace for the function
fn functionName {
  ...statements...
}

// If the function is a single statement that is returned, it can be written with a shorthand syntax
fn addOne(i: int64) = i + 1;

// This syntax can be annotated with the return type, but that is unlikely to improve clarity
fn subtractOne(i: int64): int64 = i - 1;

// Anonymous functions can only be used as an assignable value either to a variable
const anonymousFunction = fn (firstArg: argType, secondArg: anotherType): returnType {
  ...statements...
}

// Or being passed into a higher-order function
const doubled = someArray.map(fn (val: int64) = val * 2);

// In situations where a function takes no arguments and it is unambiguous, the function can be
// represented solely with the curly braces
on eventname {
  ...statements...
}

// Equivalent to:
on eventname fn (): void {
  ...statements...
}
</code></pre>
<h5><a class="header" href="#function-dispatch" id="function-dispatch">Function Dispatch</a></h5>
<p>Alan uses multiple dispatch for determining which function to use when a function name is called. This means that the argument types and count are taken into consideration. Multiple functions with the same name may be declared as long as the argument types and/or counts are different between them. For example:</p>
<pre><code class="language-alan">fn someFn (arg1: string, arg2: bool): string {
  ...
}

fn someFn (arg1: int64, arg2: float64): int64 {
  ...
}
</code></pre>
<p>If you provide a <code>string</code> and <code>bool</code> to <code>someFn</code> it will use the first definition, and if provided an <code>int64</code> and <code>float64</code> it will use the second, while if you use any other combination of argument types or number of arguments, it will fail to compile.</p>
<h5><a class="header" href="#function-type" id="function-type">Function Type</a></h5>
<p>A function's type is simply <code>function</code> right now. The compiler will complain if the provided function's argument signature does not match the types the higher-order function expects, but it is not clearly documented by the type signature, itself. It is intended to expand this to use a syntax allowing more precise argument matching when passing functions to higher-order functions, so the user can know what arguments and return type their function is expected to have. This type syntax is proposed to look like:</p>
<pre><code>fn (firstType, secondType): returnType
</code></pre>
<p>Essentially the argument list with only the types specified and the return type. In this case, the parenthesis and <code>void</code> would be required to prevent ambiguity (and keep it easier to follow), so a side-effect-only function type would look like this:</p>
<pre><code>fn (): void
</code></pre>
<p>Because type names are specified in very specific situations, the extra colon and space in the type name should not be unambiguous to the compiler.</p>
<h5><a class="header" href="#function-calls" id="function-calls">Function Calls</a></h5>
<p>One of the kinds of statements you can write inside of a function is a function call. There are actually two syntaxes for function calls, standard form and method form.</p>
<p>Standard form looks like this:</p>
<pre><code class="language-alan">add(3, 2)
</code></pre>
<p>while method form looks like this:</p>
<pre><code class="language-alan">3.add(2)
</code></pre>
<p>Method form allows you to pull the first argument out of the function and treat the function call like an Object-Oriented Language's method syntax. This allows method chaining, which can be much more legible when the output of one function is the input of the next, without requiring a custom chaining syntax that some functional languages have adopted (eg <code>|&gt;</code> in F#). Eg, <code>3.add(2).mul(5).mod(3)</code> is equivalent to <code>mod(mul(add(3, 2), 5), 3)</code>.</p>
<h4><a class="header" href="#operators" id="operators">Operators</a></h4>
<p>In Alan, operators are just a special form of function.</p>
<p>All operators are made up of only the symbols: <code>+, -, /, *, ^, ., ~, `, !, @, #, $, %, &amp;, |, :, &lt;, &gt;, ?, =</code> (excluding the commas used to separate them from each other, they are reserved for list separators only). See the <a href="./builtins/operators.html">built-in operators here</a>.</p>
<p>Operators have operator precedence to determine how they are implicitly grouped by parenthesis.</p>
<p>Any exported operator <em>must</em> also export its implementing functions, so users can choose to use the more descriptive function names instead of the terse-but-cryptic operator symbols.</p>
<p>Operators have only two forms: prefix operators that take only one argument and infix (in-between) operators that take two arguments.</p>
<p>Prefix:</p>
<pre><code>&lt;operator&gt; argument
</code></pre>
<p>Infix:</p>
<pre><code>argument1 &lt;operator&gt; argument2
</code></pre>
<p>The syntax to define a prefix operator looks like this:</p>
<pre><code class="language-alan">prefix functionName as &lt;operatorSymbol&gt; precedence &lt;precedenceNumber&gt;
prefix precedence &lt;precedenceNumber&gt; functionName as &lt;operatorSymbol&gt;
</code></pre>
<p>where <code>&lt;operatorSymbol&gt;</code> is some combination of the symbols listed above (with a special ban on a solitary <code>=</code> as that is already used for assignment) and <code>&lt;precedenceNumber&gt;</code> is an <code>int8</code> number (<code>(-128, 127)</code> inclusive) indicating the precedence level, with a larger number taking precedence over a smaller one. Only the numbers <code>0 - 6</code> are used by any built-in operator, and the <code>functionName</code> being the function to map to the prefix. Only functions with that name with a single argument will be considered (or n-arity functions where the first argument is also the &quot;last&quot;, once n-arity support is added). Either the function to operator aliasing or the precedence level may be written first, depending on your own preferences.</p>
<p>The syntax to define infix operators is similar, and looks like this:</p>
<pre><code class="language-alan">infix functionName as &lt;operatorSymbol&gt; precedence &lt;precedenceNumber&gt;
infix precedence &lt;precedenceNumber&gt; functionName as &lt;operatorSymbol&gt;
</code></pre>
<p>where <code>&lt;operatorSymbol&gt;</code> is the symbol for the operator, <code>&lt;precedenceNumber&gt;</code> is an <code>int8</code> number, and <code>functionName</code> is the function being mapped to the operator. Only functions with two arguments will be considered.</p>
<p>The example earlier of the function calls <code>3.add(2).mul(5).mod(3)</code> or <code>mod(mul(add(3, 2), 5), 3)</code> can be written with operators as <code>(3 + 2) * 5 % 3</code> or <code>5 * (3 + 2) % 3</code>, where the parenthesis break the operator precedence to allow addition to come first. See the <a href="./builtins/operators.html">built-in operators</a> section for the complete list of operators and their precedence.</p>
<h4><a class="header" href="#statements" id="statements">Statements</a></h4>
<p>Within a function are multiple statements. The order of the statements defines their dependence on one another based on what they manipulate in their scope hierarchy. The compiler uses this ordering and what variables are required of each statement to determine a dependency graph of operations. This information is provided to the runtime which may reorder statements to improve performance. Currently this is only used for batching independent IO operations together to execute in parallel and combining the CPU-bound operations into fewer segments to reduce iteration through the event loop, but could eventually be used to identify CPU-bound operations that are parallelizable due to independence from one another <em>and</em> are long enough such that the synchronization costs do not outweigh the performance gain from parallelization.</p>
<p>Statements must be on different lines, but statements can span multiple lines. There are six types of statements: variable declarations, variable assignments, function calls, function returns, event emission, and conditionals (if statements).</p>
<h5><a class="header" href="#variable-declarations" id="variable-declarations">Variable Declarations</a></h5>
<p>There are two types of variables, constants and mutable variables. Constants are declared with these two syntaxes:</p>
<pre><code class="language-alan">const varname: typename = constantOrFunctionCallOrExpression;
const varname = constantOrFunctionCallOrExpression;
</code></pre>
<p>The typename is optional as it can be inferred from the value being assigned. Providing the type can be useful to make sure your code is doing what you expected, though, and not using an unexpected type. By default all numeric constants are automatically the highest definition version possible. (<code>int64</code> or <code>float64</code>) Explicitly setting a smaller bit size for the constant <em>will not</em> coerce the constant automatically, you must explicitly declare the down coercion, eg:</p>
<pre><code class="language-alan">const someI32: int32 = 5.toInt32();
</code></pre>
<p>Any type that exists in the language can be assigned. Simple constants are simply declared, or produced via function calls or operator expressions. User-defined types can be assigned to constants through the use of a constructor function and calling it, through an expression involving operators that produces the user-defined type, or through the user-type literal syntax. Arrays and HashMaps have similar but slightly different syntaxes, as they deal with inherently plural data versus the struct-like user-defined types:</p>
<pre><code class="language-alan">const simpleConstant: bool = true;
const simpleConstant2 = &quot;simple&quot;;
const expressionResult: int64 = 3 + 5 * 2 + fnCall2(3, 1);
const fnResult: someType = functioncall(3, 5);
const userTypeLiteral = new UserType {
  key: &quot;val&quot;,
  foo: true,
  bar: 3
};
const arrayTypeLiteral = new Array&lt;int64&gt; [ 1, 1, 2, 3, 5, 8, 13 ];
const otherArrayTypeLiteral = [ &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot; ];
</code></pre>
<p>All complex type literals begin with the <code>new</code> keyword, followed by the type name, which must be a realized generic if it is a generic type. If the original generic type was an <code>Array</code> it gets a special syntax. Arrays are surrounded by brackets (<code>[</code>, <code>]</code>) instead of curly braces (<code>{</code>, <code>}</code>) and are simply a comma-delimited list of values (they could also be generated by functions or operator expressions, or be a user-defined type literal). Arrays are also the only special type that can be unambiguously declared without the <code>new Type</code> prefix, so that is also allowed.</p>
<p>For mutable variables, the syntax is nearly identical:</p>
<pre><code class="language-alan">let varname: typename = constantOrFunctionCallOrExpression ;
let varname = constantOrFunctionCallOrExpression;
</code></pre>
<p>Where <code>const</code> is replaced with <code>let</code>, making it clear that this variable's value can be changed.</p>
<h5><a class="header" href="#variable-assignments" id="variable-assignments">Variable Assignments</a></h5>
<p>This syntax only works with mutable variables:</p>
<pre><code class="language-alan">varname = constantOrFunctionCallOrExpression;
varname.propertyName = constantOrFunctionCallOrExpression;
</code></pre>
<p>Since the variable type is already known, it is no longer included. Anything that could be assigned at declaration time is assignable in future assignments. When re-assigning to the properties of user-defined types, you use the dot notation.</p>
<h5><a class="header" href="#function-calls-1" id="function-calls-1">Function Calls</a></h5>
<p>Because functions can have side effects that might be desirable, and functions defined within the scope of the current function could potentially mutate multiple variables, and so on, it's allowed to call them without storing a return value. It simply looks like this:</p>
<pre><code class="language-alan">someFunction(arg1, arg2)
</code></pre>
<p>where the arguments themselves could be constants, variable names, other function calls, operator statements, and variable type selection.</p>
<h5><a class="header" href="#function-returns" id="function-returns">Function Returns</a></h5>
<p>A return statement sets the value of the return type for the function and ends execution:</p>
<pre><code class="language-alan">return constantOrFunctionCallOrExpression;
</code></pre>
<p>If the function has no return value, you can also trigger an exit without assigning a return value by simply stating:</p>
<pre><code class="language-alan">return;
</code></pre>
<p>If you have any statements after the <code>return</code> it will not compile, however (except if the <code>return</code> is within a conditional statement, described below).</p>
<h5><a class="header" href="#event-emission" id="event-emission">Event Emission</a></h5>
<p>A function can trigger new events to occur by emitting one:</p>
<pre><code class="language-alan">emit eventName;
emit eventName constantOrFunctionCallOrExpression;
</code></pre>
<p>If the event is a void event (no arguments given to the handler functions) then you use the simple first syntax. If there is a value provided to the handler, then as with the other statements it could be a constant or variable name or function call or operator expression or type name of a variable that is provided.</p>
<h5><a class="header" href="#conditionals" id="conditionals">Conditionals</a></h5>
<p>Conditionals optionally run one block of code (or potentially another) based on a condition. Since this language is intended to run statements in dependency order, the scope the conditions run in are actually functions to prevent them from being run ahead of time. This also means all scopes once you enter a function scope are function scopes, which makes things simpler to reason about. If one of these functions returns a value, the outer function immediately returns that value from the conditional statement.</p>
<p>The conditional syntax is:</p>
<pre><code class="language-alan">if booleanConstantOrFunctionCallOrExpression thenFunction
if booleanConstantOrFunctionCallOrExpression thenFunction else elseFunction
if booleanConstantOrFunctionCallOrExpression thenFunction else if ...
</code></pre>
<p>where the constant, function call, or operational expression <em>must</em> evaluate to a boolean (so no type checking, unless it is within an equality check against an expected type name).</p>
<p>Conditionals are one of the two places (the other being event handler declarations) where the <code>fn</code> may be omitted from a purely-side-effect function (no arguments, no return value), so the above can look exactly as one would expect:</p>
<pre><code class="language-alan">if 1 == 2 {
  print(&quot;Wrong&quot;);
} else {
  print(&quot;Right&quot;);
}
</code></pre>
<p>The conditional has two anonymous functions declared inline. But it could just as easily be something like:</p>
<pre><code class="language-alan">fn right() {
  print(&quot;Right&quot;);
}

fn wrong() {
  print(&quot;Wrong&quot;);
}

const condition: bool = 1 != 2;

if condition right else wrong
</code></pre>
<h4><a class="header" href="#interfaces" id="interfaces">Interfaces</a></h4>
<p>In order to make generic types more useful, there must be a way to declare what operations/functions are possible to apply to the generic type in question so functions working with said generic are able to be checked even if the generic function is not &quot;solidified&quot; (for example, it is an exported library meant to be used by other code). Interfaces are the proposed solution, and they'll look something like this:</p>
<pre><code class="language-alan">interface interfaceName {
  functionname (concreteType, interfaceName): concreteType,
  function2 (interfaceName, interfaceName): interfaceName,
  interfaceName &lt;operatorSymbol&gt; interfaceName: interfaceName,
  &lt;operatorSymbol2&gt; interfaceName: concreteType,
  requiredPropertyName: concreteType,
  requiredPropertyName2: concreteType,
}
</code></pre>
<p>They declare which functions and/or operators must exist for the type to pass the interface and provide a guarantee to the function using that interface which functions and/or operators are available for use within the function body. Because function dispatch is based on the input arguments and not the output type, at least one of the input arguments <strong>must</strong> be <code>interfaceName</code>. They can also optionally declare certain properties with certain concrete types as being required to exist. This would only make sense for the user-defined types, but it appears useful for them to prevent requiring useless accessor functions to be written.</p>
<p>Within a function, the interface name simply substitutes for a type and is used in place of it, with the function/operator usage being checked against the interface instead of the scope. When usage of the function comes later, the type and functions/operators that work with it are checked against the interface and the <em>current scope</em> to see if it is valid. This means that it is possible for a function using interfaces to work with a particular type in one module scope but not another based on what has been imported into each scope. It also means that the behavior of the function could change between modules if a <em>different, but matching</em> function is imported or declared in the relevant scope.</p>
<p>This is because invocation of the function in that scope also counts as definition of that function within the scope, with the original being used as a template for the function, and the current module's scope being injected between the export scope of the module it was pulled from (if it was imported across scope boundaries).</p>
<p>When interfaces are used in a function, they are matched against the incoming argument types. Once it is &quot;realized&quot; as a concrete type, the compiler assumes any other usage of that same interface will be the same realized type.</p>
<p>This means writing a constructor function to make a <code>KeyVal</code> object like so:</p>
<pre><code class="language-alan">fn makeKV(key: any, val: any) = new KeyVal&lt;any, any&gt; {
  key: key,
  val: val,
}
</code></pre>
<p>will fail to compile unless both the <code>key</code> and the <code>val</code> are the same type, which may be unexpected. However, an identical interface with a different name will be matched separately, so if you have the following two otherwise identical interfaces:</p>
<pre><code class="language-alan">interface any {}
interface anythingElse {}
</code></pre>
<p>That both would match <em>any</em> type given to them, you can then use them in the <code>KeyVal</code> constructor like this:</p>
<pre><code class="language-alan">fn makeKv(key: any, val: anythingElse) = new KeyVal&lt;any, anythingElse&gt; {
  key: key,
  val: val
}
</code></pre>
<p>There is an interface aliasing feature, so one could simply write:</p>
<pre><code class="language-alan">interface anythingElse = any
</code></pre>
<p>and have it do the right thing. Not super useful for the <code>any</code> interface, but for complex interfaces that you want to use in functions with the variables &quot;unlinked&quot; from each other, it can be quite useful.</p>
<h4><a class="header" href="#handlers" id="handlers">Handlers</a></h4>
<p>Handlers are special functions that are triggered by events emitted to the event loop. They are the root of all stacks in Alan. Like many languages with event loops, multiple handlers can exist for a single event.</p>
<p>Event handler functions <em>must</em> always have a <code>void</code> return. From the perspective of the language, handlers are self-contained side-effects.</p>
<p>Handlers can only be registered at the module level, not within a function. This is both to discourage abuse of the event loop and make a more intelligent execution planning possible in the future (such as switching from minimizing total latency for any given event to maximizing the total throughput of event processing if the event loop queue is backing up).</p>
<p>Furthermore, function calls within the handler run may trigger multiple simultaneous executions and IO operations can break up the handler call into multiple fragments to be re-scheduled onto the event loop. The vast majority of the time, direct control on how work is scheduled onto the event loop is abstracted from the developer.</p>
<p>The event handler syntax is relatively simple:</p>
<pre><code class="language-alan">on eventName function
</code></pre>
<p>where <code>eventName</code> is the name of the event to register a handler for and <code>function</code> is either the name of a function, or an in-line defined function, eg:</p>
<pre><code class="language-alan">on event fn namedHandler(argument: eventType) {
  ...
}
</code></pre>
<p>for a fully-named in-line defined function with an event payload. Without a payload, the argument list can be dropped:</p>
<pre><code class="language-alan">on event fn namedHandler {
  ...
}
</code></pre>
<p>In both cases, the name is also optional because it is being registered immediately:</p>
<pre><code class="language-alan">on event fn (argument: eventType) {
  ...
}
</code></pre>
<p>or</p>
<pre><code class="language-alan">on event fn {
  ...
}
</code></pre>
<p>The latter purely-side-effect-only function can also omit the <code>fn</code> if desired as it is unambiguous in this context:</p>
<pre><code class="language-alan">on event {
  ...
}
</code></pre>
<h5><a class="header" href="#special-events-stdappstart-stdappexit-and-stdappstdout" id="special-events-stdappstart-stdappexit-and-stdappstdout">Special Events: @std/app.start, @std/app.exit, and @std/app.stdout</a></h5>
<p>There are events that are particularly special for Alan. The <code>start</code>, <code>exit</code>, and <code>stdout</code> events in the <code>@std/app</code> standard library module. They are separated from the built-ins because most modules should not need to ever touch them, but the root module of your project may.</p>
<p>When Alan has finished loading your code and has the event loop set up, it emits a single <code>start</code> event (of type <code>void</code>). That should trigger a special function used to set up the rest of your program: loading configuration, starting up an http server, or what have you.</p>
<p>Once the event loop is running, it will run forever. Only if an <code>int8</code> value (the exit code, where 0 is successful and anything else is an error) is emitted to the <code>exit</code> event will the process tear itself down and terminate.</p>
<p>If you want to write raw text to <code>stdout</code> you can <code>emit</code> to a string to it (this is what the <code>print</code> function does, but with an appended newline character after converting your argument to a string).</p>
<p>This is why basically all of the small examples import these events from <code>@std/app</code>, but most modules in most larger projects never will.</p>
<h4><a class="header" href="#user-defined-types" id="user-defined-types">User-Defined Types</a></h4>
<p>There are two major categories of types in Alan: built-in types and user-defined types. 
The special built-in types are covered in depth in <a href="./builtins/types.html">Built-ins</a> and they can be used within your own types. User-defined types are similar to <code>struct</code>s in C or Go as they are simply named compound types made up of other user-defined types or built-in types. They can also be only partially-defined as generic types, more on that later.</p>
<h5><a class="header" href="#syntax" id="syntax">Syntax</a></h5>
<p>User-defined types must be declared by the user and they follow the following syntax:</p>
<pre><code class="language-alan">type typename {
  propertyName: propertyType,
  otherProperty: otherType,
}
</code></pre>
<p>The syntax to construct a new instance of a user type is as follows:</p>
<pre><code class="language-alan">const myVal: typename = new typename {
  propertyName: propertyValue,
  otherProperty: otherValue,
}
</code></pre>
<p>Or relying on type inference it is reduced to just:</p>
<pre><code class="language-alan">const myVal = new typename {
  propertyName: propertyValue,
  otherProperty: otherValue
}
</code></pre>
<p>User-defined types have another interesting feature: they can be generic. That means one or more of the actual sub-types used by the type is not yet defined, but will be &quot;solidified&quot; later on with the creation of a new type based on it.</p>
<p>Generic types look like this:</p>
<pre><code class="language-alan">type typename&lt;A, B&gt; {
  propertyName: A,
  otherProperty: B
}
</code></pre>
<p>Where later on you can &quot;solidify&quot; that type either by creating an alias with the types filled in:</p>
<pre><code class="language-alan">type typenameIntStr = typename&lt;int64, string&gt;
</code></pre>
<p>or just declaring a variable that uses a &quot;solidified&quot; type:</p>
<pre><code class="language-alan">let myVar = new typename&lt;bool, float64&gt; {
  propertyName: true,
  otherProperty: 0.0
}
</code></pre>
<p>Functions cannot operate on Generic types directly, but they can work on Generics that have been &quot;solidified&quot; with interfaces. More on this in the <a href="./interfaces.html">Interfaces</a> section.</p>
<h3><a class="header" href="#error-handling" id="error-handling">Error Handling</a></h3>
<p>Errors are unavoidable in software and life. Alan's error handling seeks to generate fault tolerant programs that will fail on you at compile time, instead of on your users in production. Alan requires you to acknowledge the possibility of an error and take some action before your code will compile. This tradeoff introduces some tedium, but it increases the overall quality and robustness of programs.</p>
<p>Alan, like Rust, doesn’t have exceptions. Instead, it has the type <code>Result&lt;T&gt;</code> for you to return which is equivalent to <code>Either&lt;T, Error&gt;</code>. The language provides <a href="./builtins/result_maybe.html#result-and-error-functions">built-in error handling functions</a> to easily handle recoverable errors: </p>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

// the return type is not required, but included for clarity
fn reciprocal(val: float64): Result&lt;float64&gt; {
  if val == 0.0 {
    // creates a Result with an Error from a string
    return err('Divide by zero error!');
  } else {
    // creates a Result with a value
    return ok(1.0 / val);
  }
}

on start {
  const oneFifth = reciprocal(5.0);
  // checks if the Result has a value
  if oneFifth.isOk() {
    // gets the Result's value or default if it is an Error
    print(oneFifth.getOr(0.0));
    // getOr can be expressed with an | operator
    print(oneFifth | 0.0);
  }

  // checks if the Result has an error
  const oneZeroth = reciprocal(0.0);
  if oneZeroth.isErr() {
    // gets the Result's Error or default if it is a value
    print(oneZeroth.getErr(noerr()));
  }

  emit exit 0;
}
</code></pre></pre>
<h4><a class="header" href="#imports" id="imports">Imports</a></h4>
<p>To import the exports of other modules, Alan provides two different syntaxes to select the exports to import. There are also two different syntaxes to identify the module you wish to import from. These two syntaxes are completely interchangeable leading to four different syntactic combinations.</p>
<h5><a class="header" href="#identifying-modules" id="identifying-modules">Identifying Modules</a></h5>
<p>Let's start with the module identifying syntax. That would be either:</p>
<pre><code>./some/module
</code></pre>
<p>or:</p>
<pre><code>@some/module
</code></pre>
<p>The first form begins with a <code>./</code> or a <code>../</code> and is a <code>relative import</code>. It simply traverses your filesystem and looks for the appropriate module, which would be named either <code>./some/module.ln</code> or <code>./some/module/index.ln</code>. The latter allows for simplifying transitions if a module has grown too big to be a single file, anymore, or for more advanced module mocking/intercepting that will be covered in more depth in the Modules section below.</p>
<p>The second form begins with an <code>@</code> and is a <code>named import</code>. It uses a more advanced search pattern that will be discussed in detail in the <a href="./module_resolution.html">Module Resolution</a> section. This is useful for referencing third-party code and your own code that is a cross-cutting concern for many modules in your project, like a custom logging wrapper module.</p>
<h5><a class="header" href="#importing-modules" id="importing-modules">Importing Modules</a></h5>
<p>Once you've identified the module you want to import, now it's time to decide how you want to import it. There's the basic scoped import and the &quot;plucking&quot; unscoped import. These syntaxes are essentially lifted wholesale from Python:</p>
<pre><code class="language-alan">import @std/http
import ./my/module as myModule
from @std/app import start, print as println, exit
</code></pre>
<p>Simply stating <code>import ./some/module</code> will automatically create a new variable named &quot;module&quot; (the text after the last slash, or after the <code>@</code> if no slashes at all).</p>
<p>The exported items are accessible with the conventional dot notation, like <code>module.someFunction()</code>.</p>
<p>Sometimes the automatically-generated import name is going to collide with another module, or sometimes you just don't think it's a descriptive name, so you have the option to rename it within your module using the <code>as newName</code> syntax.</p>
<p>If you write <code>from ./some/module import var1, var2, ...</code> you will pull the exported variable directly out of the export scope and place it within your module scope with that name, and you also have the option to use the <code>as newName</code> syntax on any of these imports, as well.</p>
<p>That's it.</p>
<p>Those with experience in other module-based languages may be wondering where the <code>*</code> syntax is. That has been intentionally left out. It makes reading your own module more difficult as it can be unclear, especially when there are multiple <code>*</code> imports, where a specified name came from.</p>
<p>The exception is when a data structure and a collection of functions and operators that work on that data are bundled together. Needing to explicitly import each of those separately would be painful, so when importing an <code>interface</code>, if that module defines a type and all functions and operators needed for that type and also exports them, Alan will automatically pull those along as well in a quasi-Class-like fashion.</p>
<h4><a class="header" href="#exports" id="exports">Exports</a></h4>
<p>The <code>export</code> syntax can only be used at the module level, which means it is impossible to have non-deterministic exports. While this can be annoying with collating files that simply import files to only re-export all of their contents, it eliminates whole classes of ambiguity where certain functions, types, etc are only available depending on the state of the runtime environment.</p>
<p>Constants, types, functions, operators, events, and interfaces are exportable while event handlers are not. (However, importing a module that registers event handlers will cause a side-effect of including those event handlers in your application.)</p>
<p>This can either be done in-line with the declaration of the item in question:</p>
<pre><code class="language-alan">export const foo: bool = true;
</code></pre>
<p>Or it can be done by referencing the name of the thing to be exported after it has been declared:</p>
<pre><code class="language-alan">type Foo {
  bar: string,
  baz: bool
}

export Foo
</code></pre>
<p>Both styles produce identical results: the exported item is accessible both within the module and by any other module that imports it.</p>
<h4><a class="header" href="#list-of-keywords-and-reserved-symbols" id="list-of-keywords-and-reserved-symbols">List of Keywords and Reserved Symbols</a></h4>
<p>The following keywords cannot be used in <a href="./statements.html#variable-declarations">variable</a>, <a href="./functions.html">function</a>, <a href="./types.html">type</a>, <a href="./interfaces.html">interface</a>, or <a href="./types.html#user-defined-types">property</a> names:</p>
<ul>
<li>as</li>
<li>const</li>
<li>else</li>
<li>emit</li>
<li>event</li>
<li>export</li>
<li>fn</li>
<li>from</li>
<li>if</li>
<li>import</li>
<li>infix</li>
<li>interface</li>
<li>let</li>
<li>new</li>
<li>on</li>
<li>precedence</li>
<li>prefix</li>
<li>return</li>
<li>type</li>
</ul>
<p>The following symbols cannot be used when defining <a href="./operators.html">operators</a>:</p>
<ul>
<li>,</li>
<li>;</li>
<li>{</li>
<li>}</li>
<li>(</li>
<li>)</li>
<li>[</li>
<li>]</li>
<li>= (unless accompanied by another valid symbol right next to it, including itself as in <code>==</code>)</li>
<li>\</li>
<li>/*</li>
<li>*/</li>
<li>//</li>
</ul>
<h3><a class="header" href="#modules" id="modules">Modules</a></h3>
<p>The details of the definition of modules in Alan has already been discussed in their <a href="./file_structure.html">Syntax and File Structure</a>. This section focuses more on how modules relate to one another, the kinds of project structures allowed (and of those encouraged), and functionality baked into the module system that requires more invasive, unsound runtime activities not necessary (or even allowed) in Alan.</p>
<h4><a class="header" href="#definition" id="definition">Definition</a></h4>
<p>Modules are defined by simply creating an Alan source file. The name of the module is simply the name of the file minus the extension, unless the file is named <code>index.ln</code> in which case the name of the module is it's parent directory for anything referencing it. (This allows a former <code>something.ln</code> module to become <code>something/index.ln</code> and have a companion <code>something/submodule.ln</code> if it grows too big but should still be thought of as a singular unit.)</p>
<p>The portions of a module that are private to that module are not exported, while the portions intended to be public have an <code>export</code> keyword prefixed to them.</p>
<h4><a class="header" href="#resolution" id="resolution">Resolution</a></h4>
<p>The module resolution algorithm is inspired by multiple languages, but primarily Node.js. The recursive module resolution system makes it much easier to upgrade dependencies even if some of your own dependencies still depend on an older version of them.</p>
<p>This sounds like a security issue, but in practice it's better than the flat dependency model, as security updates can be applied as rapidly as possible to most of the codebase and not cause pain in the process, while a flat dependency model requires lockstep upgrades, so you cannot upgrade dependencies until all have released a version using the updated dependency, holding you back and causing weird chicken-and-egg issues. And tooling has sprung up in the Node community to track the laggards on updating and to override their dependency versions if necessary.</p>
<p>However, one of the issues with a tree-based module resolution system is many duplicate dependencies. Dependency hoisting and keeping the hierarchy as flat as possible helps eliminate this.</p>
<p>The other major issue with Node.js's module model is reducing the friction on using third-party modules so much that it is <em>easier</em> to use third party modules than your own code. Third party modules can be loaded with a memorable name that doesn't change no matter where you are in the codebase, while your own code has to keep track of its relative location in the filesystem hierarchy anywhere it is used.</p>
<p>Combine that with Node.js's intentionally small standard library and there are lots of tiny modules that implement basic functionality because it wasn't available and people wrote and released their own implementations and other people installed the first ones they found, since it is so easy to do, and such cross-cutting core dependencies would show up in many different places in your project, each requiring a slightly different relative path invocation if it was a home-grown source file.</p>
<p>Alan's module resolution system attempts to address these concerns by having separate directories for third-party dependencies you install and being able to uniformly name modules within your own codebase clearly.</p>
<p>While relative pathing is necessary for a module to reference its submodule and it is possible to traverse up the tree and back down, having <code>../</code> in your import path should be considered an anti-pattern in Alan.</p>
<p>A project directory structure like this:</p>
<pre><code>ecommerceco/
├── dependencies/
│   └── alantech/
│       └── sqlclient/
│           ├── index.ln
│           ├── mariadb.ln
│           ├── mysql.db
│           ├── postgres.ln
│           └── sqlserver.ln
├── index.ln
└── modules/
    ├── logger.ln
    ├── models/
    │   ├── index.ln
    │   ├── products.ln
    │   ├── purchases.ln
    │   ├── suppliers.ln
    │   └── users.ln
    └── views/
        ├── cart.ln
        ├── home.ln
        ├── index.ln
        ├── product_details.ln
        └── purchase.ln
</code></pre>
<p>Allows the root <code>index.ln</code> file to reference the logger with just <code>import @logger</code> to get <code>./modules/logger.ln</code> and the models with just <code>import @models</code> while the <code>./modules/models/index.ln</code> file can get the SQL client by <code>import @alantech/sqlclient</code> that comes from <code>./dependencies/alantech/sqlclient/index.ln</code></p>
<p>Similarly, <code>./modules/views/index.ln</code> is referenced as just <code>@views</code> by the <code>./index.ln</code> file and can reference the models with just <code>@models</code> as well. Module names are clear and memorable regardless of the origin: third-party and your own code can be treated the same, so there is no perverse incentive to publish helper modules you only use within your own project.</p>
<h4><a class="header" href="#acquisition" id="acquisition">Acquisition</a></h4>
<p>Different languages have had differing dependency resolution mechanisms.</p>
<ul>
<li>C and C++ have ignored this altogether and the communities have not made much, if any, progress on changing that.</li>
<li>Java has similarly ignored it, but the Java community has created a few competing module management systems, but have apparently centralized on the Maven repository for module sources.</li>
<li>Python has a centralized module repository and installation mechanism in <code>pip</code> but multiple mechanisms for managing the actual project dependency management, though with VirtualEnv leading (but not commandingly so) the pack. The dependencies themselves are declared in a simple text file or a yaml file, depending on the tool you use.</li>
<li>Ruby and Node have fully centralized module repositories, dependency management (though there is a split between NPM and Yarn, but Yarn intentionally mirrors NPM and focuses on speed), and dependency installation. The dependencies are declared in a special JSON file for Node and a &quot;Gemfile&quot; Ruby source file in Ruby.</li>
<li>Go and the experimental Deno have taken different paths. Go originally ignored dependency management, as well, but is adopting one based on URLs to Git repositories. Deno goes one step further and uses HTTP/HTTPS URLs to raw source code, itself, with no explicit dependency declaration file.</li>
</ul>
<p>Alan follows Ruby most closely in managing dependencies. Dependencies are specified in a <code>.dependencies.ln</code> file by convention that uses the <code>@std/deps</code> standard library to declare which dependencies are required and acquire them. Using Alan itself as the dependency declaration file makes it possible to typecheck and validate the validity of the dependency configuration to an extent that is not possible in the declarative formats popular in Java, Python, Node, and Go.</p>
<p>Beyond that, Alan automatically assumes all dependencies are listed as git URLs and that git is available for use locally to access the third-party libraries. This makes acquisition and version pinning much simpler and without any requirement of a centralized host.</p>
<p>Long-term, though, Alan intends to have a centralized package hosting system because there are several advantages to the community for such a thing:</p>
<ul>
<li>The packages can be guaranteed immutable to make sure production deployments are more reliable.</li>
<li>The central repository can require package signing to make it harder for popular packages to be hijacked and have malware injected into them (and also raise the bar to make sure only more serious projects are submitted).</li>
<li>The semantic versioning (major, minor, patch) meaning can be better trusted by requiring published packages to conform to a validation mechanism we call &quot;Semantic BDD.&quot; (TODO: Write up blog post on Semantic BDD, and link to it here.)</li>
<li>Finally, the central repository can provide discoverability and recommendation mechanisms to developers on which packages may be worth using versus others. Simple metrics like download and star counts are one, but beyond that there could be recommendations based on things starred by other developers that also starred things you have, or the total coverage of their Semantic BDD tests versus the entirety of their export scope surface area.</li>
</ul>
<h4><a class="header" href="#testing-and-mocking" id="testing-and-mocking">Testing and Mocking</a></h4>
<p>Testing is a very important part of any significant project. I believe the Perl community's culture of testing allowed the language to survive in mainstream usage longer than if it hadn't, as the rigorous testing many libraries had kept them manageable in the face of a language that didn't really care about that. Other languages adopted the techniques pioneered there, among them Java, which teaches another lesson.</p>
<p>Perl and other dynamic languages were able to make testing &quot;mocks&quot; of real code in order to better unit test the pieces separately that they behaved correctly in the face of uncommon results (like particular failure cases). But Java, being typed and static, had a very hard time tackling this issue, and reflection (and <a href="https://stackoverflow.com/a/2993641">sometimes direct byte-code manipulation!</a>) was necessary to get this working, warping the language and pushing for difficult-to-implement esoteric features.</p>
<p>Further, there are often third-party dependencies that are only useful when running your test suite but are not useful when running your code directly. For this reasons, test dependencies are placed in a <code>test/dependencies</code> subdirectory and all test code is expected to live in the <code>test</code> directory. If you wish to mock code from the primary path, simply define a mock in the <code>test/modules</code> directory to mock it for your entire test suite, or rename a particular test from <code>test/some_test.ln</code> to <code>test/some_test/index.ln</code> and place the test-specific mock into <code>test/some_test/modules/special_mock.ln</code> instead.</p>
<p>Simply from the dependency resolution system, isolated test dependencies and mocks are possible without reflection or run-time manipulation of the compiled code.</p>
<h4><a class="header" href="#mutation-and-permissions" id="mutation-and-permissions">Mutation and Permissions</a></h4>
<p>Sometimes a third-party library or even a module you have written yourself needs to have its behavior adjusted, and simply defining new functions to use in method syntax is not enough to accomplish it. Perhaps you wish to modify the types involved or prevent an internal event from being registered.</p>
<p>Alan does not allow loops in the module dependency graph, it must be a directed acyclic graph, but it does have a special exception for a module attempting to import &quot;itself.&quot; In this case, the module will instead &quot;skip over&quot; itself and look across the rest of the <code>modules</code> and <code>dependencies</code> elsewhere in the graph for what it should pull in. This allows for defining a wrapper module that can export the same (or different) types, functions, etc but with different behavior, something in between a mock and the real thing (or something that intercepts a logger and also attaches stats tracing to it, as an example where this could be used in production).</p>
<p>This would work similarly in that only code that sees the <code>modules</code> directory containing this wrapper module would get the behavior, so to do an integration test using it, you need to wrap (or just symlink if left unchanged) all modules involved in the integration test.</p>
<p>This allows re-exporting the &quot;same&quot; module to your codebase after partial modification of it, and is even permitted on the standard library modules.</p>
<p>This mechanism can be used to deny third party libraries access to parts of the standard library you are not comfortable with. By simply creating a <code>modules</code> directory within the third-party dependency and then defining an <code>std/app.ln</code> file that re-exports non-functional versions of the types, functions, and events of the original standard library, you can prevent that library from being able to use standard library features you would not expect them to have access to. For instance, if you have imported a very popular utility library for, say, curve fitting. You would not expect it to want to have access to your filesystem or creating a child process, so you could inject nonfunctional mocks of <code>@std/fs</code> and <code>@std/cmd</code>.</p>
<p>It is intended to eventually make this kind of permissioning logic a built-in operation in the <code>@std/deps</code> standard library, but it is another piece of functionality that falls out of Alan's dependency resolution.</p>
<h3><a class="header" href="#built-ins" id="built-ins">Built-ins</a></h3>
<p>All module-based languages have some things that are included without specifically importing anything. Some keep it to a minimum (Java) and some have a pretty high rate of inclusion (Python). Alan biases more towards the Python end of the spectrum. Concepts and functionality common across many modules should not be manually imported all of the time, especially with the requirement that imports are fully qualified to improve legibility.</p>
<p>The built-ins for Alan all involve the built-in types and the functions and operators to manipulate them.</p>
<h4><a class="header" href="#built-in-types" id="built-in-types">Built-in Types</a></h4>
<p>The built-in types for Alan are included in the root scope and never need to be explicitly defined. Built-in types divide into three categories: basic types, strings, and special types.</p>
<h5><a class="header" href="#basic-types" id="basic-types">Basic Types</a></h5>
<ul>
<li><code>void</code></li>
<li><code>int8</code></li>
<li><code>int16</code></li>
<li><code>int32</code></li>
<li><code>int64</code> or <code>int</code></li>
<li><code>float32</code></li>
<li><code>float64</code> or <code>float</code></li>
<li><code>bool</code></li>
</ul>
<p>Basic types include integers (<code>int8</code>, <code>int16</code>, <code>int32</code>, and <code>int64</code>), floating point numbers (<code>float32</code> and <code>float64</code>), booleans (<code>bool</code>), and the <code>void</code> (no value) type. The numbers refer to the number of bits consumed by the basic type. There are currently no unsigned variants of the integer types, though that may change if there is demand for it.</p>
<p>The <code>int64</code> and <code>float64</code> types are special among the numeric types, as these are the types that any numeric constant will be represented as, depending on whether or not it has a decimal. They have been given aliases of <code>int</code> and <code>float</code> respectively for that reason.</p>
<p>The four &quot;main&quot; basic types (<code>int64</code>, <code>float64</code>, <code>bool</code> and <code>void</code>) have constant representations that you can easily type. The non-64-bit numeric types are considered specialized types and are discouraged (the runtime does not take advantage of the potential space optimizations they provide to keep the internal memory addressing system simpler), so constants for those types must be explicitly casted using the <code>to&lt;Type&gt;</code> functions discussed in the <a href="builtins/./type_coercion.html">Type Coercion</a> section.</p>
<p>The integers have basic base-10 integer form as well as hexadecimal form. Binary and Octal forms are not implemented but that may change if there is demand for it.</p>
<pre><code class="language-alan">const base10 = 12345
const base16 = 0xabcde
</code></pre>
<p>The floating point numbers have only basic base-10 with a decimal point form, no scientific notation form yet, but that may change if there is demand for it.</p>
<pre><code class="language-alan">const floating = 1.2345
</code></pre>
<p>Booleans are represented by the keywords <code>true</code> and <code>false</code>. <code>void</code> has no representation beyond <code>void</code>. It can't be assigned to, and is meant to represent functions that return nothing.</p>
<pre><code class="language-alan">const boolean = true
const someVoid = void
</code></pre>
<p>The basic types are included in the root scope and never need to be explicitly defined, they always exist.</p>
<h5><a class="header" href="#strings" id="strings">Strings</a></h5>
<p>Strings (<code>string</code>) are a bit beyond the basic type. From the perspective of the user of Alan they are <code>utf-8</code> byte arrays (multi-byte code points increase the string length by 2 or 3, not 1). If there is significant demand for it, string length checks and other operations will be switched to the codepoint model versus the byte array model.</p>
<p>Strings are defined by wrapping double or single quotes (<code>&quot;</code> or <code>'</code>) around text. They work identically to Javascript strings, with the same sorts of C-style escape codes. Within the runtime, however, they are represented as Pascal strings with a 64-bit header, which makes certain operations faster than their C-string counterparts (particularly length checking, which is O(1)) but means 8 extra bytes are required for each string versus C-string's traditional 1 extra byte, so lots of small strings will consume more memory.</p>
<pre><code class="language-alan">const myString = &quot;My string's string&quot;
const myOtherString = 'My other string\'s string'
</code></pre>
<h5><a class="header" href="#special-types" id="special-types">Special Types</a></h5>
<ul>
<li><code>function</code></li>
<li><code>Error</code></li>
<li><code>Maybe&lt;T&gt;</code></li>
<li><code>Result&lt;T&gt;</code></li>
<li><code>Either&lt;T, U&gt;</code></li>
<li><code>Array&lt;V&gt;</code></li>
<li><code>HashMap&lt;K, V&gt;</code></li>
<li><code>KeyVal&lt;K, V&gt;</code></li>
</ul>
<p>Functions are covered in the <a href="builtins/../functions.html">Functions</a> section. <code>Either&lt;T, U&gt;</code> is a special type that can hold two values. Other special types are built on top of it. <code>Maybe&lt;T&gt;</code> is equivalent to <code>Either&lt;T, void&gt;</code> and <code>Result&lt;T&gt;</code> is equivalent to <code>Either&lt;T, Error&gt;</code>. <code>Error</code> and <code>Result</code> are more extensively covered in the <a href="builtins/../error_handling.html">Error Handling</a> section.</p>
<p>A <code>HashMap&lt;K, V&gt;</code> creates a mapping from <code>K</code> to <code>V</code>. An <code>Array&lt;V&gt;</code> in Alan can hold more than one <code>V</code> at a time. Arrays can be defined with an explicit type or the compiler can infer the type for you:</p>
<pre><code class="language-alan">const test = new Array&lt;int&gt; [ 1, 2, 3, 4, 5 ]
const count = [1, 2, 3, 4, 5]
</code></pre>
<p>The sections that cover built-in functions for <a href="builtins/./array_api.html">Array Manipulation</a> and <a href="builtins/./hashmap_api.html">HashMap Manipulation</a> provide a better sense of how to manipulate the values stored in <code>Array&lt;V&gt;</code>, <code>HashMap&lt;K, V&gt;</code> and <code>KeyVal&lt;K, V&gt;</code>.</p>
<h4><a class="header" href="#built-in-functions" id="built-in-functions">Built-in Functions</a></h4>
<p>The <a href="builtins/../functions.html">function</a> signatures will be written in the form <code>functionName(argumentType, argumentType): returnType</code> with a brief description above each. These functions will be grouped into general categories, such as type coercion, arithmetic, etc. Because of <a href="builtins/../functions.html#function-dispatch">multiple dispatch</a> you may see the same function name repeated multiple times, while other times you may see the use of the <code>any</code> interface for a function that operates on multiple types. When you see multiple dispatch being used with specific types, that means there's an optimized implementation for that specific type, while the use of the <code>any</code> interface means that this was not done (many times because it was not necessary).</p>
<h4><a class="header" href="#type-coercion" id="type-coercion">Type Coercion</a></h4>
<h5><a class="header" href="#tofloat64" id="tofloat64">toFloat64</a></h5>
<pre><code class="language-alan">// Converts the built-in basic types to 64-bit floats
toFloat64(int8): float64
toFloat64(int16): float64
toFloat64(int32): float64
toFloat64(int64): float64
toFloat64(float32): float64
toFloat64(float64): float64
toFloat64(bool): float64
toFloat64(string): float64
</code></pre>
<h5><a class="header" href="#tofloat32" id="tofloat32">toFloat32</a></h5>
<pre><code class="language-alan">// Converts the built-in basic types to 32-bit floats
toFloat32(int8): float32
toFloat32(int16): float32
toFloat32(int32): float32
toFloat32(int64): float32
toFloat32(float32): float32
toFloat32(float64): float32
toFloat32(bool): float32
toFloat32(string): float32
</code></pre>
<h5><a class="header" href="#toint64" id="toint64">toInt64</a></h5>
<pre><code class="language-alan">// Converts the built-in basic types to 64-bit integers
toInt64(int8): int64
toInt64(int16): int64
toInt64(int32): int64
toInt64(int64): int64
toInt64(float32): int64
toInt64(float64): int64
toInt64(bool): int64
toInt64(string): int64
</code></pre>
<h5><a class="header" href="#toint32" id="toint32">toInt32</a></h5>
<pre><code class="language-alan">// Converts the built-in basic types to 32-bit integers
toInt32(int8): int32
toInt32(int16): int32
toInt32(int32): int32
toInt32(int64): int32
toInt32(float32): int32
toInt32(float64): int32
toInt32(bool): int32
toInt32(string): int32
</code></pre>
<h5><a class="header" href="#toint16" id="toint16">toInt16</a></h5>
<pre><code class="language-alan">// Converts the built-in basic types to 16-bit integers
toInt16(int8): int16
toInt16(int16): int16
toInt16(int32): int16
toInt16(int64): int16
toInt16(float32): int16
toInt16(float64): int16
toInt16(bool): int16
toInt16(string): int16
</code></pre>
<h5><a class="header" href="#toint8" id="toint8">toInt8</a></h5>
<pre><code class="language-alan">// Converts the built-in basic types to 8-bit integers
toInt8(int8): int8
toInt8(int16): int8
toInt8(int32): int8
toInt8(int64): int8
toInt8(float32): int8
toInt8(float64): int8
toInt8(bool): int8
toInt8(string): int8
</code></pre>
<h5><a class="header" href="#tobool" id="tobool">toBool</a></h5>
<pre><code class="language-alan">// Converts the built-in basic types to booleans
toBool(int8): bool
toBool(int16): bool
toBool(int32): bool
toBool(int64): bool
toBool(float32): bool
toBool(float64): bool
toBool(bool): bool
toBool(string): bool
</code></pre>
<h5><a class="header" href="#tostring" id="tostring">toString</a></h5>
<pre><code class="language-alan">// Converts the built-in types to strings
toString(int8): string
toString(int16): string
toString(int32): string
toString(int64): string
toString(float32): string
toString(float64): string
toString(bool): string
toString(string): string
toString(Error): string
toString(Result&lt;Stringifiable&gt;): string
</code></pre>
<p>These coercions will not fail. When converting down into an integer of a smaller bitsize, numbers larger than that integer's <code>INT_MAX</code> are pegged at <code>INT_MAX</code>, smaller than <code>INT_MIN</code> pegged at <code>INT_MIN</code> and <code>NaN</code> or strings that aren't actually integers are converted to <code>0</code>. This may be changed to a <code>Result</code> type that requires a user-defined default value on failure. <code>Result</code> types wrapping a type that can also be converted to a string directly, with either the string version of the result, or the error message.</p>
<h4><a class="header" href="#arithmetic" id="arithmetic">Arithmetic</a></h4>
<h5><a class="header" href="#add" id="add">add</a></h5>
<pre><code class="language-alan">// Adds two numbers
add(int8, int8): int8
add(int16, int16): int16
add(int32, int32): int32
add(int64, int64): int64
add(float32, float32): float32
add(float64, float64): float64
</code></pre>
<h5><a class="header" href="#sub" id="sub">sub</a></h5>
<pre><code class="language-alan">// Subtracts two numbers
sub(int8, int8): int8
sub(int16, int16): int16
sub(int32, int32): int32
sub(int64, int64): int64
sub(float32, float32): float32
sub(float64, float64): float64
</code></pre>
<h5><a class="header" href="#negate" id="negate">negate</a></h5>
<pre><code class="language-alan">// Negates the number
negate(int8): int8
negate(int16): int16
negate(int32): int32
negate(int64): int64
negate(float32): float32
negate(float64): float64
</code></pre>
<h5><a class="header" href="#abs" id="abs">abs</a></h5>
<pre><code class="language-alan">// Returns the absolute value of the number
abs(int8): int8
abs(int16): int16
abs(int32): int32
abs(int64): int64
abs(float32): float32
abs(float64): float64
</code></pre>
<h5><a class="header" href="#mul" id="mul">mul</a></h5>
<pre><code class="language-alan">// Multiplies two numbers
mul(int8, int8): int8
mul(int16, int16): int16
mul(int32, int32): int32
mul(int64, int64): int64
mul(float32, float32): float32
mul(float64, float64): float64
</code></pre>
<h5><a class="header" href="#div" id="div">div</a></h5>
<pre><code class="language-alan">// Divides two numbers
div(int8, int8): int8
div(int16, int16): int16
div(int32, int32): int32
div(int64, int64): int64
div(float32, float32): float32
div(float64, float64): float64
</code></pre>
<h5><a class="header" href="#pow" id="pow">pow</a></h5>
<pre><code class="language-alan">// Raises the first number to the power of the second number
pow(int8, int8): int8
pow(int16, int16): int16
pow(int32, int32): int32
pow(int64, int64): int64
pow(float32, float32): float32
pow(float64, float64): float64
</code></pre>
<h5><a class="header" href="#mod" id="mod">mod</a></h5>
<pre><code class="language-alan">// Returns the modulus (remainder) of an integer division
mod(int8, int8): int8
mod(int16, int16): int16
mod(int32, int32): int32
mod(int64, int64): int64
</code></pre>
<h5><a class="header" href="#sqrt" id="sqrt">sqrt</a></h5>
<pre><code class="language-alan">// Returns the square root of a number
sqrt(float32): float32
sqrt(float64): float64
</code></pre>
<h5><a class="header" href="#min" id="min">min</a></h5>
<pre><code class="language-alan">// Returns the smallest of two numbers
min(int8, int8): int8
min(int16, int16): int16
min(int32, int32): int32
min(int64, int64): int64
min(float32, float32): float32
min(float64, float64): float64
min(string, string): string
</code></pre>
<h5><a class="header" href="#max" id="max">max</a></h5>
<pre><code class="language-alan">// Returns the largest of two numbers
max(int8, int8): int8
max(int16, int16): int16
max(int32, int32): int32
max(int64, int64): int64
max(float32, float32): float32
max(float64, float64): float64
max(string, string): string
</code></pre>
<h4><a class="header" href="#logical-and-bitwise" id="logical-and-bitwise">Logical and Bitwise</a></h4>
<h5><a class="header" href="#and" id="and">and</a></h5>
<pre><code class="language-alan">// Return the logical or bitwise `and`
and(int8, int8): int8
and(int16, int16): int16
and(int32, int32): int32
and(int64, int64): int64
and(bool, bool): bool
</code></pre>
<h5><a class="header" href="#or" id="or">or</a></h5>
<pre><code class="language-alan">// Return the logical or bitwise `or`
or(int8, int8): int8
or(int16, int16): int16
or(int32, int32): int32
or(int64, int64): int64
or(bool, bool): bool
</code></pre>
<h5><a class="header" href="#xor" id="xor">xor</a></h5>
<pre><code class="language-alan">// Return the logical or bitwise `xor`
xor(int8, int8): int8
xor(int16, int16): int16
xor(int32, int32): int32
xor(int64, int64): int64
xor(bool, bool): bool
</code></pre>
<h5><a class="header" href="#not" id="not">not</a></h5>
<pre><code class="language-alan">// Return the logical or bitwise `not`
not(int8): int8
not(int16): int16
not(int32): int32
not(int64): int64
not(bool): bool
</code></pre>
<h5><a class="header" href="#nand" id="nand">nand</a></h5>
<pre><code class="language-alan">// Return the logical or bitwise `nand`
nand(int8, int8): int8
nand(int16, int16): int16
nand(int32, int32): int32
nand(int64, int64): int64
nand(bool, bool): bool
</code></pre>
<h5><a class="header" href="#nor" id="nor">nor</a></h5>
<pre><code class="language-alan">// Return the logical or bitwise `nor`
nor(int8, int8): int8
nor(int16, int16): int16
nor(int32, int32): int32
nor(int64, int64): int64
nor(bool, bool): bool
</code></pre>
<h5><a class="header" href="#xnor" id="xnor">xnor</a></h5>
<pre><code class="language-alan">// Return the logical or bitwise `xnor`
xnor(int8, int8): int8
xnor(int16, int16): int16
xnor(int32, int32): int32
xnor(int64, int64): int64
xnor(bool, bool): bool
</code></pre>
<h4><a class="header" href="#comparators" id="comparators">Comparators</a></h4>
<h5><a class="header" href="#eq" id="eq">eq</a></h5>
<pre><code class="language-alan">// Checks if the two values are equal
eq(int8, int8): bool
eq(int16, int16): bool
eq(int32, int32): bool
eq(int64, int64): bool
eq(float32, float32): bool
eq(float64, float64): bool
eq(string, string): bool
eq(bool, bool): bool
</code></pre>
<h5><a class="header" href="#neq" id="neq">neq</a></h5>
<pre><code class="language-alan">// Checks if the two values are not equal
neq(int8, int8): bool
neq(int16, int16): bool
neq(int32, int32): bool
neq(int64, int64): bool
neq(float32, float32): bool
neq(float64, float64): bool
neq(string, string): bool
neq(bool, bool): bool
</code></pre>
<h5><a class="header" href="#lt" id="lt">lt</a></h5>
<pre><code class="language-alan">// Checks if the first value is less than the second
lt(int8, int8): bool
lt(int16, int16): bool
lt(int32, int32): bool
lt(int64, int64): bool
lt(float32, float32): bool
lt(float64, float64): bool
lt(string, string): bool
</code></pre>
<h5><a class="header" href="#lte" id="lte">lte</a></h5>
<pre><code class="language-alan">// Checks if the first value is less than or equal to the second
lte(int8, int8): bool
lte(int16, int16): bool
lte(int32, int32): bool
lte(int64, int64): bool
lte(float32, float32): bool
lte(float64, float64): bool
lte(string, string): bool
</code></pre>
<h5><a class="header" href="#gt" id="gt">gt</a></h5>
<pre><code class="language-alan">// Checks if the first value is greater than the second
gt(int8, int8): bool
gt(int16, int16): bool
gt(int32, int32): bool
gt(int64, int64): bool
gt(float32, float32): bool
gt(float64, float64): bool
gt(string, string): bool
</code></pre>
<h5><a class="header" href="#gte" id="gte">gte</a></h5>
<pre><code class="language-alan">// Checks if the first value is greater than or equal to the second
gte(int8, int8): bool
gte(int16, int16): bool
gte(int32, int32): bool
gte(int64, int64): bool
gte(float32, float32): bool
gte(float64, float64): bool
gte(string, string): bool
</code></pre>
<h4><a class="header" href="#string-manipulation" id="string-manipulation">String Manipulation</a></h4>
<h5><a class="header" href="#concat" id="concat">concat</a></h5>
<pre><code class="language-alan">// Concatenate two strings together
concat(string, string): string
</code></pre>
<h5><a class="header" href="#split" id="split">split</a></h5>
<pre><code class="language-alan">// Splits the first string into an array of strings divided by the second delimiter string
split(string, string): Array&lt;string&gt;
</code></pre>
<h5><a class="header" href="#repeat" id="repeat">repeat</a></h5>
<pre><code class="language-alan">// Repeats the contents of the string `n` times (so `repeat(&quot;hello&quot;, 1)` returns `&quot;hello&quot;`)
repeat(string, int8): string
repeat(string, int16): string
repeat(string, int32): string
repeat(string, int64): string
</code></pre>
<h5><a class="header" href="#template" id="template">template</a></h5>
<pre><code class="language-alan">// Takes a string template and a HashMap of string keys to string values to substitute in
template(string, HashMap&lt;string, string&gt;): string
</code></pre>
<h5><a class="header" href="#matches" id="matches">matches</a></h5>
<pre><code class="language-alan">// Check if the first string matches the regular expression defined by the second string
matches(string, string): bool
</code></pre>
<h5><a class="header" href="#index" id="index">index</a></h5>
<pre><code class="language-alan">// Returns the location of the second string within the first string as a Result, or errors
index(string, string): Result&lt;int64&gt;
</code></pre>
<h5><a class="header" href="#length" id="length">length</a></h5>
<pre><code class="language-alan">// Returns the length of the string (as a byte array, not UTF codepoints)
length(string): int64
</code></pre>
<h5><a class="header" href="#trim" id="trim">trim</a></h5>
<pre><code class="language-alan">// Removes the whitespace on either end of the string
trim(string): string
</code></pre>
<h4><a class="header" href="#array-manipulation" id="array-manipulation">Array Manipulation</a></h4>
<h5><a class="header" href="#concat-1" id="concat-1">concat</a></h5>
<pre><code class="language-alan">// Concatenate two arrays into a new array containing the values of both
concat(Array&lt;any&gt;, Array&lt;any&gt;): Array&lt;any&gt;
</code></pre>
<h5><a class="header" href="#repeat-1" id="repeat-1">repeat</a></h5>
<pre><code class="language-alan">// Create a new array with the contents of the original array repeated `n` times
repeat(Array&lt;any&gt;, int8): Array&lt;any&gt;
repeat(Array&lt;any&gt;, int16): Array&lt;any&gt;
repeat(Array&lt;any&gt;, int32): Array&lt;any&gt;
repeat(Array&lt;any&gt;, int64): Array&lt;any&gt;
</code></pre>
<h5><a class="header" href="#index-1" id="index-1">index</a></h5>
<pre><code class="language-alan">// Find the index of the specified value in the array in a Result, or errors
index(Array&lt;any&gt;, any): Result&lt;int64&gt;
index(Array&lt;int8&gt;, int8): Result&lt;int64&gt;
index(Array&lt;int16&gt;, int16): Result&lt;int64&gt;
index(Array&lt;int32&gt;, int32): Result&lt;int64&gt;
index(Array&lt;int64&gt;, int64): Result&lt;int64&gt;
index(Array&lt;float32&gt;, float32): Result&lt;int64&gt;
index(Array&lt;float64&gt;, float64): Result&lt;int64&gt;
index(Array&lt;bool&gt;, bool): Result&lt;int64&gt;
</code></pre>
<h5><a class="header" href="#has" id="has">has</a></h5>
<pre><code class="language-alan">// Returns true if the array has the specified value or false otherwise
has(Array&lt;any&gt;, any): bool
has(Array&lt;int8&gt;, int8): bool 
has(Array&lt;int16&gt;, int16): bool
has(Array&lt;int32&gt;, int32): bool 
has(Array&lt;int64&gt;, int64): bool
has(Array&lt;float32&gt;, float32): bool
has(Array&lt;float64&gt;, float64): bool
has(Array&lt;bool&gt;, bool): bool
</code></pre>
<h5><a class="header" href="#push" id="push">push</a></h5>
<pre><code class="language-alan">// Push a value into the array and return the updated array
push(Array&lt;any&gt;, any): Array&lt;any&gt;
push(Array&lt;int8&gt;, int8): Array&lt;int8&gt;
push(Array&lt;int16&gt;, int16): Array&lt;int16&gt;
push(Array&lt;int32&gt;, int32): Array&lt;int32&gt;
push(Array&lt;int64&gt;, int64): Array&lt;int64&gt;
push(Array&lt;float32&gt;, float32): Array&lt;float32&gt;
push(Array&lt;float64&gt;, float64): Array&lt;float64&gt;
push(Array&lt;bool&gt;, bool): Array&lt;bool&gt;
</code></pre>
<h5><a class="header" href="#pop" id="pop">pop</a></h5>
<pre><code class="language-alan">// Pop a value from an array and return that value wrapped in a result (or an error result)
pop(Array&lt;any&gt;): Result&lt;any&gt;
</code></pre>
<h5><a class="header" href="#each" id="each">each</a></h5>
<pre><code class="language-alan">// Execute the provided side-effect function on each element of the array
each(Array&lt;any&gt;, function): void // Parallel if possible and worthwhile
eachLin(Array&lt;any&gt;, function): void // Forced linear execution
</code></pre>
<h5><a class="header" href="#map" id="map">map</a></h5>
<pre><code class="language-alan">// Execute the provided converter function on each element of the array and return a new array
map(Array&lt;any&gt;, function): Array&lt;anythingElse&gt; // Parallel if possible and worthwhile
mapLin(Array&lt;any&gt;, function): Array&lt;anythingElse&gt; // Forced linear execution
</code></pre>
<h5><a class="header" href="#reduce" id="reduce">reduce</a></h5>
<pre><code class="language-alan">// Execute the combining function on the array and return the new value
// The two argument reduce functions reduce into the same type as the input, while the
// three and four argument reduce functions reduce into a new type. The three argument reduce
// function is sequential and only requires an initial value to kick off the reduction, while the
// four argument reducer requires one function and an initial value to kick off the reduction into
// the new type, and then it requires a second function that reduces the new type into itself to
// merge the various threads of execution back together.
reduce(Array&lt;any&gt;, function): any // Forced linear execution
reducePar(Array&lt;any&gt;, function): any // Parallel if possible and worthwhile
reduce(Array&lt;any&gt;, function, anythingElse): anythingElse // Forced linear execution
reducePar(Array&lt;any&gt;, function, function, anythingElse): anythingElse // Parallel if possible and worthwhile
</code></pre>
<h5><a class="header" href="#filter" id="filter">filter</a></h5>
<pre><code class="language-alan">// Execute the filtering function on the array and return a new array with the allowed values
filter(Array&lt;any&gt;, function): Array&lt;any&gt; // Parallel if possible and worthwhile
</code></pre>
<h5><a class="header" href="#find" id="find">find</a></h5>
<pre><code class="language-alan">// Execute the comparison function on the array and return the first element that passes the check,
// or an error
find(Array&lt;any&gt;, function): Result&lt;any&gt; // Parallel if possible and worthwhile
findLin(Array&lt;any&gt;, function): Result&lt;any&gt; // Forced linear execution
</code></pre>
<h5><a class="header" href="#every" id="every">every</a></h5>
<pre><code class="language-alan">// Execute the comparison function on the array and return `true` if all elements pass the check
every(Array&lt;any&gt;, function): bool // Parallel if possible and worthwhile
everyLin(Array&lt;any&gt;, function): bool // Forced linear execution
</code></pre>
<h5><a class="header" href="#some" id="some">some</a></h5>
<pre><code class="language-alan">// Execute the comparison function on the array and return `true` if any element passes the check
some(Array&lt;any&gt;, function): bool // Parallel if possible and worthwhile
someLin(Array&lt;any&gt;, function): bool // Forced linear execution
</code></pre>
<h5><a class="header" href="#join" id="join">join</a></h5>
<pre><code class="language-alan">// Take an array of strings and merge them into one string separated by the separator string. The
// inverse of the `split` function
join(Array&lt;string&gt;, string): string
</code></pre>
<h5><a class="header" href="#set" id="set">set</a></h5>
<pre><code class="language-alan">// Override the value of an array element with a new value
set(Array&lt;any&gt;, int64, any): Result&lt;Array&lt;any&gt;&gt;
set(Array&lt;int8&gt;, int64, int8): Result&lt;Array&lt;int8&gt;&gt;
set(Array&lt;int16&gt;, int64, int16): Result&lt;Array&lt;int16&gt;&gt;
set(Array&lt;int32&gt;, int64, int32): Result&lt;Array&lt;int32&gt;&gt;
set(Array&lt;int64&gt;, int64, int64): Result&lt;Array&lt;int64&gt;&gt;
set(Array&lt;float32&gt;, int64, float32): Result&lt;Array&lt;float32&gt;&gt;
set(Array&lt;float64&gt;, int64, float64): Result&lt;Array&lt;float64&gt;&gt;
set(Array&lt;bool&gt;, int64, bool): Result&lt;Array&lt;bool&gt;&gt;
</code></pre>
<h4><a class="header" href="#hashmap-manipulation" id="hashmap-manipulation">HashMap Manipulation</a></h4>
<h5><a class="header" href="#tohash" id="tohash">toHash</a></h5>
<pre><code class="language-alan">// Converts a value into a hash using the xxh64 (https://cyan4973.github.io/xxHash/) algorithm.
// No user code ever has to overload the `toHash` function with their own implementation, but it is
// required that the `eq` function is for user-defined types to check for hash collisions.
toHash(any): int64
toHash(int8): int64
toHash(int16): int64
toHash(int32): int64
toHash(float32): int64
toHash(float64): int64
toHash(bool): int64
</code></pre>
<h5><a class="header" href="#keyval" id="keyval">keyVal</a></h5>
<pre><code class="language-alan">// Takes a HashMap and returns an Array of KeyVal pairs
keyVal(HashMap&lt;Hashable, any&gt;): Array&lt;KeyVal&lt;Hashable, any&gt;&gt;
</code></pre>
<h5><a class="header" href="#keys" id="keys">keys</a></h5>
<pre><code class="language-alan">// Takes a HashMap and returns an Array of keys
keys(HashMap&lt;Hashable, any&gt;): Array&lt;Hashable&gt;
</code></pre>
<h5><a class="header" href="#values" id="values">values</a></h5>
<pre><code class="language-alan">// Takes a HashMap and returns an Array of values
values(HashMap&lt;Hashable, any&gt;: Array&lt;any&gt;
</code></pre>
<h5><a class="header" href="#length-1" id="length-1">length</a></h5>
<pre><code class="language-alan">// Takes a HashMap and returns the number of KeyVal pairs contained
length(HashMap&lt;Hashable, any&gt;): int64
</code></pre>
<h5><a class="header" href="#set-1" id="set-1">set</a></h5>
<pre><code class="language-alan">// Sets a key-value pair in the HashMap and returns the HashMap for chaining
set(HashMap&lt;Hashable, any&gt;, Hashable, any): HashMap&lt;Hashable, any&gt;
</code></pre>
<h5><a class="header" href="#get" id="get">get</a></h5>
<pre><code class="language-alan">// Gets the value for a given key or an error
get(HashMap&lt;Hashable,any&gt;, Hashable): Result&lt;any&gt;
</code></pre>
<h5><a class="header" href="#newhashmap" id="newhashmap">newHashMap</a></h5>
<pre><code class="language-alan">// Creates a new HashMap object with the first key-val pair and a decently-sized set of defaults for
// the indexing
newHashMap(Hashable, any): HashMap&lt;Hashable, any&gt;
</code></pre>
<h5><a class="header" href="#tohashmap" id="tohashmap">toHashMap</a></h5>
<pre><code class="language-alan">// The inverse of `keyVal`, takes an `Array&lt;KeyVal&lt;Hashable, any&gt;&gt;` and reindexes it as HashMap
toHashMap(Array&lt;KeyVal&lt;Hashable, any&gt;&gt;): HashMap&lt;Hashable, any&gt;
</code></pre>
<h4><a class="header" href="#ternary-functions" id="ternary-functions">&quot;Ternary&quot; Functions</a></h4>
<h5><a class="header" href="#pair" id="pair">pair</a></h5>
<pre><code class="language-alan">// Takes two values of the same type and returns an array of those two values
pair(any, any): Array&lt;any&gt;
</code></pre>
<h5><a class="header" href="#cond" id="cond">cond</a></h5>
<pre><code class="language-alan">// Takes a boolean and an array of two values and returns the first value on `true` and the second
// on `false`
cond(bool, Array&lt;any&gt;): any
</code></pre>
<pre><code class="language-alan">// Takes a boolean and a function and conditionally executes that function if the bool is `true`
cond(bool, function): void
</code></pre>
<h3><a class="header" href="#error-maybe-result-and-either" id="error-maybe-result-and-either">Error, Maybe, Result, and Either</a></h3>
<h4><a class="header" href="#maybe-functions" id="maybe-functions">Maybe Functions</a></h4>
<h5><a class="header" href="#some-1" id="some-1">some</a></h5>
<pre><code class="language-alan">// Wraps a given value into a Maybe type
some(any): Maybe&lt;any&gt;
</code></pre>
<h5><a class="header" href="#none" id="none">none</a></h5>
<pre><code class="language-alan">// Creates an unassigned Maybe type
none(): Maybe&lt;void&gt;
</code></pre>
<h5><a class="header" href="#issome" id="issome">isSome</a></h5>
<pre><code class="language-alan">// Determines if the Maybe has a value
isSome(Maybe&lt;any&gt;): bool
</code></pre>
<h5><a class="header" href="#isnone" id="isnone">isNone</a></h5>
<pre><code class="language-alan">// Determines if the Maybe has no value
isNone(Maybe&lt;any&gt;): bool
</code></pre>
<h5><a class="header" href="#getor" id="getor">getOr</a></h5>
<pre><code class="language-alan">// Returns the Maybe's value, or the default value if there is no value
getOr(Maybe&lt;any&gt;, any): any
</code></pre>
<h4><a class="header" href="#result-and-error-functions" id="result-and-error-functions">Result and Error Functions</a></h4>
<h5><a class="header" href="#noerr" id="noerr">noerr</a></h5>
<pre><code class="language-alan">// Returns a non-error error object
noerr(): Error
</code></pre>
<h5><a class="header" href="#ok" id="ok">ok</a></h5>
<pre><code class="language-alan">// Creates a Result with a value
ok(any): Result&lt;any&gt;
</code></pre>
<h5><a class="header" href="#err" id="err">err</a></h5>
<pre><code class="language-alan">// Creates a Result with an Error
err(string): Result&lt;any&gt;
</code></pre>
<h5><a class="header" href="#isok" id="isok">isOk</a></h5>
<pre><code class="language-alan">// Checks if the Result has a value
isOk(Result&lt;any&gt;): bool
</code></pre>
<h5><a class="header" href="#iserr" id="iserr">isErr</a></h5>
<pre><code class="language-alan">// Checks if the Result has an Error
isErr(Result&lt;any&gt;): bool
</code></pre>
<h5><a class="header" href="#getor-1" id="getor-1">getOr</a></h5>
<pre><code class="language-alan">// Gets the Result's value or default if it is an Error
getOr(Result&lt;any&gt;, any): any
</code></pre>
<h5><a class="header" href="#geterr" id="geterr">getErr</a></h5>
<pre><code class="language-alan">// Gets the Result's Error or default if it is a value
getErr(Result&lt;any&gt;, Error): Error
</code></pre>
<h4><a class="header" href="#either-functions" id="either-functions">Either Functions</a></h4>
<h5><a class="header" href="#main" id="main">main</a></h5>
<pre><code class="language-alan">// Creates an Either with the main (first) type set
main(any): Either&lt;any, void&gt;
</code></pre>
<h5><a class="header" href="#alt" id="alt">alt</a></h5>
<pre><code class="language-alan">// Creates and Either with the alternative (second) type set
alt(any): Either&lt;void, any&gt;
</code></pre>
<h5><a class="header" href="#ismain" id="ismain">isMain</a></h5>
<pre><code class="language-alan">// Checks if the Either's main type is set
isMain(Either&lt;any, anythingElse&gt;): bool
</code></pre>
<h5><a class="header" href="#isalt" id="isalt">isAlt</a></h5>
<pre><code class="language-alan">// Checks if the Either's alt type is set
isAlt(Either&lt;any, anythingElse&gt;): bool
</code></pre>
<h5><a class="header" href="#getmainor" id="getmainor">getMainOr</a></h5>
<pre><code class="language-alan">// Gets the main type or the default if it is the alt type
getMainOr(Either&lt;any, anythingElse&gt;, any): any
</code></pre>
<h5><a class="header" href="#getaltor" id="getaltor">getAltOr</a></h5>
<pre><code class="language-alan">// Gets the alt type or the default if it is the main type
getAltOr(Either&lt;any, anythingElse&gt;, anythingElse): anythingElse
</code></pre>
<h5><a class="header" href="#wait-functions" id="wait-functions">Wait Functions</a></h5>
<pre><code class="language-alan">// Waits the specified number of milliseconds and then continues execution
wait(int8): void
wait(int16): void
wait(int32): void
wait(int64): void
</code></pre>
<h4><a class="header" href="#built-in-operators" id="built-in-operators">Built-in Operators</a></h4>
<p>As <a href="builtins/../operators.html">operators</a> in Alan are simply aliases for functions with a precedence value associated, all of the following operators have their underlying implementation defined above.</p>
<table>
  <thead>
    <tr>
      <td>Operator</td><td>Infix/Prefix</td><td>Precedence</td><td>Function</td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>?</code></td><td>infix</td><td>0</td><td><a href="builtins/./ternary.html#cond">cond</a></td>
    </tr>
    <tr>
      <td><code>==</code></td><td>infix</td><td>1</td><td><a href="builtins/./comparators.html#eq">eq</a></td>
    </tr>
    <tr>
      <td><code>!=</code></td><td>infix</td><td>1</td><td><a href="builtins/./comparators.html#neq">neq</a></td>
    </tr>
    <tr>
      <td><code><</code></td><td>infix</td><td>1</td><td><a href="builtins/./comparators.html#lt">lt</a></td>
    </tr>
    <tr>
      <td><code><=</code></td><td>infix</td><td>1</td><td><a href="builtins/./comparators.html#lte">lte</a></td>
    </tr>
    <tr>
      <td><code>></code></td><td>infix</td><td>1</td><td><a href="builtins/./comparators.html#gt">gt</a></td>
    </tr>
    <tr>
      <td><code>>=</code></td><td>infix</td><td>1</td><td><a href="builtins/./comparators.html#gte">gte</a></td>
    </tr>
    <tr>
      <td><code>~</code></td><td>infix</td><td>1</td><td><a href="builtins/./string_api.html#matches">matches</a></td>
    </tr>
    <tr>
      <td><code>+</code></td><td>infix</td><td>2</td><td><a href="builtins/./string_api.html#concat">concat</a></td>
    </tr>
    <tr>
      <td><code>@</code></td><td>infix</td><td>1</td><td><a href="builtins/./array_api.html#index">index</a></td>
    </tr>
    <tr>
      <td><code>-</code></td><td>prefix</td><td>1</td><td><a href="builtins/./arithmetic.html#negate">negate</a></td>
    </tr>
    <tr>
      <td><code>+</code></td><td>infix</td><td>2</td><td><a href="builtins/./arithmetic.html#add">add</a></td>
    </tr>
    <tr>
      <td><code>-</code></td><td>infix</td><td>2</td><td><a href="builtins/./arithmetic.html#sub">sub</a></td>
    </tr>
    <tr>
      <td><code>*</code></td><td>infix</td><td>3</td><td><a href="builtins/./arithmetic.html#mul">mul</a></td>
    </tr>
    <tr>
      <td><code>/</code></td><td>infix</td><td>3</td><td><a href="builtins/./arithmetic.html#div">div</a></td>
    </tr>
    <tr>
      <td><code>%</code></td><td>infix</td><td>3</td><td><a href="builtins/./arithmetic.html#mod">mod</a></td>
    </tr>
    <tr>
      <td><code>**</code></td><td>infix</td><td>4</td><td><a href="builtins/./arithmetic.html#pow">pow</a></td>
    </tr>
    <tr>
      <td><code>|</code></td><td>infix</td><td>2</td><td><a href="builtins/./bitwise.html#or">or</a></td>
    </tr>
    <tr>
      <td><code>||</code></td><td>infix</td><td>2</td><td><a href="builtins/./bitwise.html#or">or</a></td>
    </tr>
    <tr>
      <td><code>^</code></td><td>infix</td><td>2</td><td><a href="builtins/./bitwise.html#xor">xor</a></td>
    </tr>
    <tr>
      <td><code>!|</code></td><td>infix</td><td>2</td><td><a href="builtins/./bitwise.html#nor">nor</a></td>
    </tr>
    <tr>
      <td><code>!^</code></td><td>infix</td><td>2</td><td><a href="builtins/./bitwise.html#xnor">xnor</a></td>
    </tr>
    <tr>
      <td><code>|</code></td><td>infix</td><td>2</td><td><a href="builtins/./result_maybe.html#getOr">getOr</a></td>
    </tr>
    <tr>
      <td><code>||</code></td><td>infix</td><td>2</td><td><a href="builtins/./result_maybe.html#getOr">getOr</a></td>
    </tr>
    <tr>
      <td><code>*</code></td><td>infix</td><td>3</td><td><a href="builtins/./array_api.html#repeat">repeat</a></td>
    </tr>
    <tr>
      <td><code>/</code></td><td>infix</td><td>3</td><td><a href="builtins/./string_api.html#repeat">repeat</a></td>
    </tr>
    <tr>
      <td><code>%</code></td><td>infix</td><td>3</td><td><a href="builtins/./string_api.html#template">template</a></td>
    </tr>
    <tr>
      <td><code>&</code></td><td>infix</td><td>3</td><td><a href="builtins/./bitwise.html#and">and</a></td>
    </tr>
    <tr>
      <td><code>&&</code></td><td>infix</td><td>3</td><td><a href="builtins/./bitwise.html#and">and</a></td>
    </tr>
    <tr>
      <td><code>!&</code></td><td>infix</td><td>3</td><td><a href="builtins/./bitwise.html#nand">nand</a></td>
    </tr>
    <tr>
      <td><code>!</code></td><td>prefix</td><td>4</td><td><a href="builtins/./bitwise.html#not">not</a></td>
    </tr>
    <tr>
      <td><code>#</code></td><td>prefix</td><td>4</td><td><a href="builtins/./string_api.html#length">length</a></td>
    </tr>
    <tr>
      <td><code>`</code></td><td>prefix</td><td>4</td><td><a href="builtins/./string_api.html#trim">trim</a></td>
    </tr>
    <tr>
      <td><code>:</code></td><td>infix</td><td>5</td><td><a href="builtins/./ternary.html#pair">pair</a></td>
    </tr>
    <tr>
      <td><code>:</code></td><td>infix</td><td>6</td><td><a href="builtins/./array_api.html#push">push</a></td>
    </tr>
  </tbody>
</table><h4><a class="header" href="#built-in-interfaces" id="built-in-interfaces">Built-in Interfaces</a></h4>
<p>There are a few built-in <a href="builtins/../interfaces.html">interfaces</a> meant for working with several built-in types and functions.</p>
<h5><a class="header" href="#any" id="any">any</a></h5>
<pre><code class="language-alan">// An empty interface, it can match any value, but you can only accept it and pass it along to
// something else. Useful for logical &quot;glue&quot; functions like `pair`, `cond`, `map`, `reduce`, etc.
interface any {}
</code></pre>
<h5><a class="header" href="#anythingelse" id="anythingelse">anythingElse</a></h5>
<pre><code class="language-alan">// A second empty interface, useful to allow functions to declare that it accepts two arguments of
// any kind and they don't need to match each other.
interface anythingElse {}
</code></pre>
<h5><a class="header" href="#stringifiable" id="stringifiable">Stringifiable</a></h5>
<pre><code class="language-alan">// An interface that restricts valid types to only those that can be converted into strings. Useful
// for printing.
interface Stringifiable {
  toString(Stringifiable): string
}
</code></pre>
<h5><a class="header" href="#hashable" id="hashable">Hashable</a></h5>
<pre><code class="language-alan">// An interface that determines if a type is hashable and comparable. Used by HashMap for the keys.
interface Hashable {
  toHash(Hashable): int64
  eq(Hashable, Hashable): bool
}
</code></pre>
<h2><a class="header" href="#standard-library" id="standard-library">Standard Library</a></h2>
<p>The <a href="https://github.com/alantech/alan/tree/main/std">Alan Standard Library</a> is still small and barely complete enough to make non-trivial programs with, at the moment. We intend to follow the &quot;batteries included&quot; ethos of Python and Java and include many libraries such that &quot;normal&quot; usage of the language only requires libraries for access to third-party services, and then only as a convenience.</p>
<p>If you are interested in contributing please drop us a line on <a href="https://discord.gg/XatB9we">Discord</a>.</p>
<h3><a class="header" href="#stdapp" id="stdapp">@std/app</a></h3>
<p>Currently very bare, only a single <code>print</code> function that takes all of the basic types and puts it on the console, and three events <code>start</code>, <code>exit</code>, and <code>stdout</code>. <code>start</code> intended to be handled by the user as it is automatically emitted <em>once</em> and <code>exit</code> to be emitted by the user when the program should finish. <code>stdout</code> is for more direct streaming of characters to standard out.</p>
<p>The formal declarations:</p>
<pre><code class="language-alan">fn print(Stringifiable): void
</code></pre>
<pre><code class="language-alan">event start: void
</code></pre>
<pre><code class="language-alan">event exit: int8
</code></pre>
<pre><code class="language-alan">event stdout: string
</code></pre>
<h2><a class="header" href="#stdseq-to-express-sequential-algorithms-in-alan" id="stdseq-to-express-sequential-algorithms-in-alan">@std/seq to express Sequential Algorithms in Alan</a></h2>
<p>Alan does not allow arbitrary, or classical, loops or recursion and <a href="./advanced_examples.html#loopln">the preferred way to do iteration is with arrays</a>. However, there are algorithms people need to write that are inherently sequential, and often non-deterministic on the number of steps needed to take, such as with numeric approximation algorithms like Newton-Raphson, or anything written as a recursive function call. Most of the problems developers need to solve do not require this linearity, but for when it really is required, we are reintroducing this power in a controlled manner that still allows the AVM to be able to plan around these algorithms and provide the guarantee of termination. The <code>@std/seq</code> syntax was <a href="https://github.com/alantech/alan/blob/main/rfcs/007%20-%20Sequential%20Algorithms%20RFC.md">designed</a> to <em>not</em> feel like classical control flow in order to nudge developers to find better, more deterministic and more parallelizable mechanisms, instead.</p>
<p>Here are the function signatures of the sequential functions that <code>@std/seq</code> provides:</p>
<pre><code class="language-ln">fn next(seq: Seq): Result&lt;int64&gt;
fn each(seq: Seq, func: function): void
fn while(seq: Seq, condFn: function, bodyFn: function): void
fn doWhile(seq: Seq, bodyFn: function): void
fn recurse(seq: Seq, recursiveFn: function, arg: any): Result&lt;anythingElse&gt;
</code></pre>
<h3><a class="header" href="#seq-type" id="seq-type"><code>Seq</code> type</a></h3>
<p><code>@std/seq</code> provides functions for accomplishing many different sequential patterns that depend on a special, built-in <code>Seq</code> type with opaque internals to avoid manipulation after construction:</p>
<pre><code class="language-alan">type Seq {
  counter: int64,
  limit: int64,
}
</code></pre>
<h3><a class="header" href="#next_loopln" id="next_loopln"><code>next_loop.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit
from @std/seq import seq, next
on start {
  let s = seq(2);
  print(s.next());
  print(s.next());
  print(s.next());
  emit exit 0;
}
</code></pre></pre>
<p><code>next</code> is the simplest to explain: each time you call it, it returns the current counter value wrapped in a Result and then increments it. If you call past the limit, it returns an <a href="./error_handling.html">Error Result</a>.</p>
<h3><a class="header" href="#each_loopln" id="each_loopln"><code>each_loop.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit
from @std/seq import seq, each
on start {
  let s = seq(3);
  s.each(fn (i: int64) = print(i));
  emit exit 0;
}
</code></pre></pre>
<p><code>each</code> is almost as simple as <code>next</code>: It simply runs the side-effect function however many times is in the limit of the seq instance. The function provided may or may not take the current iteration counter and must be the following signature:</p>
<pre><code class="language-alan">fn func(): void
fn func(i: int64): void
</code></pre>
<h3><a class="header" href="#while_loopln" id="while_loopln"><code>while_loop.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit
from @std/seq import seq, while
on start {
  let s = seq(100);
  let sum = 0;
  s.while(fn = sum &lt; 10, fn {
    sum = sum + 1;
  });
  print(sum);
  emit exit 0;
}
</code></pre></pre>
<p><code>while</code> runs the <code>bodyFn</code> <em>up to</em> the <code>limit</code> number of times, but can abort early if <code>condFn</code> returns <code>false</code>. The signatures of these two functions must match:</p>
<pre><code class="language-alan">fn condFn(): bool
fn bodyFn(): void
</code></pre>
<h3><a class="header" href="#dowhile_loopln" id="dowhile_loopln"><code>doWhile_loop.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit
from @std/seq import seq, doWhile
on start {
  let s = seq(100);
  let sum = 0;
  // TODO: Still need type inference working for multi-line closures
  s.doWhile(fn (): bool {
    sum = sum + 1;
    return sum &lt; 10;
  });
  print(sum);
  emit exit 0;
}
</code></pre></pre>
<p><code>doWhile</code> always runs at least once (unless the <code>seq</code> has reached its <code>limit</code> or it was constructed with an initial <code>limit</code> of <code>0</code>) and uses the return value of the function to determine if it should continue or not, so its <code>bodyFn</code> has the following signature:</p>
<pre><code class="language-alan">fn bodyFn(): bool
</code></pre>
<h3><a class="header" href="#recurse_fibln" id="recurse_fibln"><code>recurse_fib.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit
from @std/seq import seq, Self, recurse
on start {
  print(seq(100).recurse(fn fibonacci(self: Self, i: int64): Result&lt;int64&gt; {
    if i &lt; 2 {
      return ok(1);
    } else {
      const prev = self.recurse(i - 1);
      const prevPrev = self.recurse(i - 2);
      if prev.isErr() {
        return prev;
      }
      if prevPrev.isErr() {
        return prevPrev;
      }
      return ok((prev || 1) + (prevPrev || 1));
    }
  }, 8));
  emit exit 0;
}
</code></pre></pre>
<p><code>recurse</code> allows recursive functions to be defined in <code>alan</code>. This is impossible in <code>alan</code>'s grammar, so what is done is special trickery to make it possible. The <code>recursiveFn</code> has the following function signature:</p>
<pre><code class="language-alan">fn recursiveFn(self: Self, arg: any): Result&lt;anythingElse&gt;
</code></pre>
<p>The <code>Self</code> type is a special type that the recursive function can use to trigger a controlled recursive call, like so:</p>
<pre><code class="language-alan">const recursiveResult = self.recurse(someNewArg);
</code></pre>
<p><code>Self</code> is another opaque type that the AVM can use to keep track of the function to be called recursively and how deep the recursion has gone so far. The <code>recursiveFn</code> <em>must</em> wrap its value in a <code>Result</code> type because <code>alan</code> may interject and bubble up an error if the recursion limit is reached.</p>
<h3><a class="header" href="#stdcmd" id="stdcmd">@std/cmd</a></h3>
<p>Also very bare, only a single type <code>ExecRes</code>, and a function: <code>exec</code> with the signature:</p>
<pre><code class="language-alan">type ExecRes {
  exitCode: int64,
  stdout: string,
  stderr: string,
}
</code></pre>
<pre><code class="language-alan">exec(string): ExecRes
</code></pre>
<p>It simply executes the provided shell string and returns the outputs from it.</p>
<h3><a class="header" href="#stddeps" id="stddeps">@std/deps</a></h3>
<p>This library provides code to manage the dependencies of an Alan project.</p>
<p>It exports one event, <code>install</code> that scripts managing dependencies should use instead of <code>start</code>.</p>
<p>It also exports two functions <code>add</code>, and <code>commit</code> with the following signature:</p>
<pre><code>add(string): void
commit(): void
</code></pre>
<p>The <code>add</code> function takes the given string, treats it as a <code>git</code> URL and acquires the specified repository. Currently assumes a Github-like URL format ending with <code>accountName/projectName.git</code> and uses this namespacing to place the git repository into the project dependency tree such that it is accessible to import as <code>@accountName/projectName</code>. The <code>commit</code> function indicates that all changes to the dependency tree are done and allows the dependency management program to commit and close out.</p>
<h3><a class="header" href="#stdtrig" id="stdtrig">@std/trig</a></h3>
<p>This standard library provides the constants <a href="https://simple.wikipedia.org/wiki/E_(mathematical_constant)">e</a>, <a href="https://en.wikipedia.org/wiki/Pi">pi</a>, and <a href="https://math.wikia.org/wiki/Tau_(constant)">tau</a>, <a href="https://en.wikipedia.org/wiki/List_of_trigonometric_identities">all of the trigonometric functions</a>, the <a href="https://en.wikipedia.org/wiki/Hyperbolic_functions">hyperbolic functions</a>, the <a href="https://en.wikipedia.org/wiki/Common_logarithm">common</a> and <a href="https://en.wikipedia.org/wiki/Natural_logarithm">natural</a> logarithms, and the <a href="https://en.wikipedia.org/wiki/Exponential_function">exp function</a>.</p>
<p>All of the trigonometric functions are exported with both <code>float32</code> and <code>float64</code> support, and with both a short 3-5 character name common in textbooks and a fully-spelled out name. Eg, <code>sin</code> is the same as <code>sine</code> and <code>ahcc</code> is the same as <code>archacovercosine</code>. The meanings and uses of the trigonometric functions will not be covered in here as the Wikipedia links in the first paragraph provide a far better and in-depth explanation, including some <a href="https://upload.wikimedia.org/wikipedia/commons/9/9d/Circle-trig6.svg">great visual diagrams</a> that can elucidate things quickly for those already familiar with the classic <code>sin</code>, <code>cos</code>, and <code>tan</code>. Instead, below will be a listing of the signatures of everything exported by the library.</p>
<pre><code class="language-alan">e: float64
pi: float64
tau: float64

fn exp(float64): float64
fn exp(float32): float32

fn ln(x: float64): float64
fn ln(x: float32): float32

fn log(x: float64): float64
fn log(x: float32): float32

fn sin(x: float64): float64
fn sin(x: float32): float32
fn sine(x: float64): float64
fn sine(x: float32): float32

fn cos(x: float64): float64
fn cos(x: float32): float32
fn cosine(x: float64): float64
fn cosine(x: float32): float32

fn tan(x: float64): float64
fn tan(x: float32): float32
fn tangent(x: float64): float64
fn tangent(x: float32): float32

fn sec(x: float64): float64
fn sec(x: float32): float32
fn secant(x: float64): float64
fn secant(x: float32): float32

fn csc(x: float64): float64
fn csc(x: float32): float32
fn cosecant(x: float64): float64
fn cosecant(x: float32): float32

fn cot(x: float64): float64
fn cot(x: float32): float32
fn cotangent(x: float64): float64
fn cotangent(x: float32): float32

fn asin(x: float64): float64
fn asin(x: float32): float32
fn arcsine(x: float64): float64
fn arcsine(x: float32): float32

fn acos(x: float64): float64
fn acos(x: float32): float32
fn arccosine(x: float64): float64
fn arccosine(x: float32): float32

fn atan(x: float64): float64
fn atan(x: float32): float32
fn arctangent(x: float64): float64
fn arctangent(x: float32): float32

fn asec(x: float64): float64
fn asec(x: float32): float32
fn arcsecant(x: float64): float64
fn arcsecant(x: float32): float32

fn acsc(x: float64): float64
fn acsc(x: float32): float32
fn arccosecant(x: float64): float64
fn arccosecant(x: float32): float32

fn acot(x: float64): float64
fn acot(x: float32): float32
fn arccotangent(x: float64): float64
fn arccotangent(x: float32): float32

fn ver(x: float64): float64
fn ver(x: float32): float32
fn versine(x: float64): float64
fn versine(x: float32): float32

fn vcs(x: float64): float64
fn vcs(x: float32): float32
fn vercosine(x: float64): float64
fn vercosine(x: float32): float32

fn cvs(x: float64): float64
fn cvs(x: float32): float32
fn coversine(x: float64): float64
fn coversine(x: float32): float32

fn cvc(x: float64): float64
fn cvc(x: float32): float32
fn covercosine(x: float64): float64
fn covercosine(x: float32): float32

fn hav(x: float64): float64
fn hav(x: float32): float32
fn haversine(x: float64): float64
fn haversine(x: float32): float32

fn hvc(x: float64): float64
fn hvc(x: float32): float32
fn havercosine(x: float64): float64
fn havercosine(x: float32): float32

fn hcv(x: float64): float64
fn hcv(x: float32): float32
fn hacoversine(x: float64): float64
fn hacoversine(x: float32): float32

fn hcc(x: float64): float64
fn hcc(x: float32): float32
fn hacovercosine(x: float64): float64
fn hacovercosine(x: float32): float32

fn exs(x: float64): float64
fn exs(x: float32): float32
fn exsecant(x: float64): float64
fn exsecant(x: float32): float32

fn exc(x: float64): float64
fn exc(x: float32): float32
fn excosecant(x: float64): float64
fn excosecant(x: float32): float32

fn crd(x: float64): float64
fn crd(x: float32): float32
fn chord(x: float64): float64
fn chord(x: float32): float32

fn aver(x: float64): float64
fn aver(x: float32): float32
fn arcversine(x: float64): float64
fn arcversine(x: float32): float32

fn avcs(x: float64): float64
fn avcs(x: float32): float32
fn arcvercosine(x: float64): float64
fn arcvercosine(x: float32): float32

fn acvs(x: float64): float64
fn acvs(x: float32): float32
fn arccoversine(x: float64): float64
fn arccoversine(x: float32): float32

fn acvc(x: float64): float64
fn acvc(x: float32): float32
fn arccovercosine(x: float64): float64
fn arccovercosine(x: float32): float32

fn ahav(x: float64): float64
fn ahav(x: float32): float32
fn archaversine(x: float64): float64
fn archaversine(x: float32): float32

fn ahvc(x: float64): float64
fn ahvc(x: float32): float32
fn archavercosine(x: float64): float64
fn archavercosine(x: float32): float32

fn ahcv(x: float64): float64
fn ahcv(x: float32): float32
fn archacoversine(x: float64): float64
fn archacoversine(x: float32): float32

fn ahcc(x: float64): float64
fn ahcc(x: float32): float32
fn archacovercosine(x: float64): float64
fn archacovercosine(x: float32): float32

fn aexs(x: float64): float64
fn aexs(x: float32): float32
fn arcexsecant(x: float64): float64
fn arcexsecant(x: float32): float32

fn aexc(x: float64): float64
fn aexc(x: float32): float32
fn arcexcosecant(x: float64): float64
fn arcexcosecant(x: float32): float32

fn acrd(x: float64): float64
fn acrd(x: float32): float32
fn arcchord(x: float64): float64
fn arcchord(x: float32): float32

fn sinh(x: float64): float64
fn sinh(x: float32): float32
fn hyperbolicSine(x: float64): float64
fn hyperbolicSine(x: float32): float32

fn cosh(x: float64): float64
fn cosh(x: float32): float32
fn hyperbolicCosine(x: float64): float64
fn hyperbolicCosine(x: float32): float32

fn tanh(x: float64): float64
fn tanh(x: float32): float32
fn hyperbolicTangent(x: float64): float64
fn hyperbolicTangent(x: float32): float32

fn sech(x: float64): float64
fn sech(x: float32): float32
fn hyperbolicSecant(x: float64): float64
fn hyperbolicSecant(x: float32): float32

fn csch(x: float64): float64
fn csch(x: float32): float32
fn hyperbolicCosecant(x: float64): float64
fn hyperbolicCosecant(x: float32): float32

fn coth(x: float64): float64
fn coth(x: float32): float32
fn hyperbolicCotangent(x: float64): float64
fn hyperbolicCotangent(x: float32): float32

fn asinh(x: float64): float64
fn asinh(x: float32): float32
fn hyperbolicArcsine(x: float64): float64
fn hyperbolicArcsine(x: float32): float32

fn acosh(x: float64): float64
fn acosh(x: float32): float32
fn hyperbolicArccosine(x: float64): float64
fn hyperbolicArccosine(x: float32): float32

fn atanh(x: float64): float64
fn atanh(x: float32): float32
fn hyperbolicArctangent(x: float64): float64
fn hyperbolicArctangent(x: float32): float32

fn asech(x: float64): float64
fn asech(x: float32): float32
fn hyperbolicArcsecant(x: float64): float64
fn hyperbolicArcsecant(x: float32): float32

fn acsch(x: float64): float64
fn acsch(x: float32): float32
fn hyperbolicArccosecant(x: float64): float64
fn hyperbolicArccosecant(x: float32): float32

fn acoth(x: float64): float64
fn acoth(x: float32): float32
fn hyperbolicArccotangent(x: float64): float64
fn hyperbolicArccotangent(x: float32): float32
</code></pre>
<h1><a class="header" href="#examples-with-explanations" id="examples-with-explanations">Examples with Explanations</a></h1>
<p>In this section, several examples will be demonstrated with the Alan language. Some of them will be repetitious, showing multiple ways to accomplish the same thing.</p>
<p>Attempting to force a single way to do things, as Python pushes for, can make things easier, but breaking those patterns to be more concise in a particular problem domain can raise the actual clarity of what is happening and why for those working on it, and is why all fields of endeavour develop their own terminology and notation over time.</p>
<p>Alan attempts to make these situations clearer by requiring the explicit declaration of the notation in use so people new to the notation can read that mapping and understand what's going on better.</p>
<h2><a class="header" href="#the-many-forms-of-hello-world" id="the-many-forms-of-hello-world">The Many Forms of 'Hello, World!'</a></h2>
<p>The classic &quot;Hello, World!&quot; examples are a simple way to understand the minimum of structure you need to have in any code you write in a given language, with Java being famously heavyweight and Python famously featherweight.</p>
<p>Alan is in the middle, requiring some concepts from the get-go that would be confusing to absolute beginners, but not requiring as many concepts as Java.</p>
<h3><a class="header" href="#hello_world_1ln" id="hello_world_1ln"><code>hello_world_1.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">import @std/app

on app.start {
  app.print(&quot;Hello, World!&quot;);
  emit app.exit 0;
}
</code></pre></pre>
<p>The first line imports the <code>app</code> export scope, which can be used like a user type.</p>
<p>The next (non-blank) line declares that &quot;on application start do this&quot;, which is relatively clear and analogous to C's <code>int main()</code> but slightly more English-y.</p>
<p>After that, &quot;the application prints 'Hello, World!'&quot; which is straightforward and what we're here to do.</p>
<p>Finally, &quot;emit application exit zero&quot; isn't super clear, but for those familiar with other &quot;Hello, World!&quot; type applications, it just looks like a funny <code>return 0</code>.</p>
<h3><a class="header" href="#hello_world_2ln" id="hello_world_2ln"><code>hello_world_2.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

on start {
  print(&quot;Hello, World!&quot;);
  emit exit 0;
}
</code></pre></pre>
<p>Almost identical to the first, but it pulls the pieces of the <code>app</code> namespace into the module's namespace, so it's a good introduction to the <code>from foo import bar, baz, ...</code> syntax, what it does and why you might want it.</p>
<h3><a class="header" href="#hello_world_3ln" id="hello_world_3ln"><code>hello_world_3.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print as put, exit

on start {
  put(&quot;Hello, World!&quot;);
  emit exit 0;
}
</code></pre></pre>
<p>This example demonstrates the renaming syntax on import, so you can choose a name that is clearer to you.</p>
<h3><a class="header" href="#hello_world_4ln" id="hello_world_4ln"><code>hello_world_4.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">import @std/app as program

on program.start {
  program.print(&quot;Hello, World!&quot;);
  emit program.exit 0;
}
</code></pre></pre>
<p>Same as the previous, but the renaming is applied to the module name, rather than its contents.</p>
<h3><a class="header" href="#hello_world_5ln" id="hello_world_5ln"><code>hello_world_5.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

const helloWorld: string = &quot;Hello, World!&quot;;

on start {
  print(helloWorld);
  emit exit 0;
}
</code></pre></pre>
<p>This example demonstrates printing a variable instead of an inline constant.</p>
<h3><a class="header" href="#hello_world_6ln" id="hello_world_6ln"><code>hello_world_6.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, exit, print

on start fn {
  const hello: string = &quot;Hello&quot;;
  const world: string = &quot;World&quot;;
  print(hello + &quot;, &quot; + world + &quot;!&quot;);
  emit exit 0;
}
</code></pre></pre>
<p>This example demonstrates how values can be combined together to produce the desired result.</p>
<h3><a class="header" href="#hello_world_7ln" id="hello_world_7ln"><code>hello_world_7.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

on start {
  &quot;Hello, World!&quot;.print();
  emit exit 0;
}
</code></pre></pre>
<p>This demonstrates the &quot;method-style&quot; function call syntax, which allows those who prefer OO development to have that style (though it could be misleading that it implies everything is an object, when it's really syntactic sugar, but...)</p>
<h3><a class="header" href="#hello_world_8ln" id="hello_world_8ln"><code>hello_world_8.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

fn main() {
  &quot;Hello, World!&quot;.print();
  emit exit 0;
}

on start main
</code></pre></pre>
<p>This example demonstrates that the functions passed to an event handler don't have to be inline declared.</p>
<h2><a class="header" href="#more-advanced-examples" id="more-advanced-examples">More advanced examples</a></h2>
<p>These examples are still relatively simple (they fit in a single file) but they demonstrate more concepts that cannot be easily shown in just a &quot;Hello, World!&quot; application.</p>
<h3><a class="header" href="#loopln" id="loopln"><code>loop.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

on start {
  const count = [1, 2, 3, 4, 5];
  const byTwos = count.map(fn (n: int64): int64 = n * 2);
  count.map(toString).join(', ').print();
  byTwos.map(toString).join(', ').print();
  emit exit 0;
}
</code></pre></pre>
<p>Alan does not allow arbitrary loops or recursion, but you can still loop over data. This example shows the primary way to do iteration in Alan using the functional <a href="./builtins/array_api.html">array api</a> which can be parallelized by the AVM. However when absolutely necessary, Alan offers a controlled way of <a href="./std_seq.html">expressing algorithms that are inherently sequential</a>.</p>
<h3><a class="header" href="#mathln" id="mathln"><code>math.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

on start fn {
  print(concat(&quot;1 + 2 = &quot;, toString(1 + 2)));
  print(concat(&quot;1 - 2 = &quot;, toString(1 - 2)));
  print(concat(&quot;1 * 2 = &quot;, toString(1 * 2)));
  print(concat(&quot;1 / 2 = &quot;, toString(1.0 / 2.0)));
  print(concat(&quot;1 % 2 = &quot;, toString(1 % 2)));
  print(concat(&quot;1 ** 2 = &quot;, toString(1 ** 2)));
  print(concat(&quot;1 &amp; 2 = &quot;, toString(1 &amp; 2)));
  print(concat(&quot;1 | 2 = &quot;, toString(1 | 2)));
  print(concat(&quot;1 ^ 2 = &quot;, toString(1 ^ 2)));
  print(concat(&quot;!1 = &quot;, toString(!1)));
  print(concat(&quot;1 !&amp; 2 = &quot;, toString(1 !&amp; 2)));
  print(concat(&quot;1 !| 2 = &quot;, toString(1 !| 2)));
  print(concat(&quot;1 !^ 2 = &quot;, toString(1 !^ 2)));
  print(concat(&quot;1 + 2 * 3 ** 4 = &quot;, toString(1 + 2 * 3 ** 4)));

  emit exit 0;
}
</code></pre></pre>
<p>This example shows multiple math operations and their results, with the last statement demonstrating the order of operations effectively inverting the computational flow of that statement.</p>
<h3><a class="header" href="#object_literalsln" id="object_literalsln"><code>object_literals.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

type MyType {
  foo: string,
  bar: bool,
}

on start {
  print(&quot;Custom type assignment&quot;);
  const test = new MyType {
    foo: &quot;foo!&quot;,
    bar: true,
  };
  print(test.foo);
  print(test.bar);

  let test2 = new MyType {
    foo: &quot;foo2&quot;,
    bar: true
  };
  test2.bar = false;
  print(test2.foo);
  print(test2.bar);

  print(&quot;Array literal assignment&quot;);
  const test3 = new Array&lt;int64&gt; [ 1, 2, 4, 8, 16, 32, 64 ];
  print(test3[0]);
  print(test3[1]);
  print(test3[2]);

  let test4 = [ 0, 1, 2, 3 ];
  test4.set(0, 1);
  print(test4[0]);

  print(&quot;HashMap literal assignment&quot;);
  const test5 = newHashMap(true, 1);
  test5.set(false, 0);

  print(test5.get(true));
  print(test5.get(false));

  let test6 = newHashMap(&quot;foo&quot;, &quot;bar&quot;);
  test6.set(&quot;foo&quot;, &quot;baz&quot;);
  print(test6.get(&quot;foo&quot;));

  emit exit 0;
}
</code></pre></pre>
<p>This example demonstrates the three (so far) object literal syntaxes and sub-value accessor syntaxes.</p>
<h3><a class="header" href="#ifln" id="ifln"><code>if.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

fn bar() {
  print(&quot;bar!&quot;);
}

fn baz() {
  print(&quot;baz!&quot;);
}

fn nearOrFar(distance: float64): string {
  if distance &lt; 5.0 {
    return &quot;Near!&quot;;
  } else {
    return &quot;Far!&quot;;
  }
}

on start {
  if 1 == 0 {
    print(&quot;What!?&quot;);
  } else {
    print(&quot;The world is sane...&quot;);
  }

  if 1 == 0 {
    print(&quot;Not this again...&quot;);
  } else if 1 == 2 {
    print(&quot;Still wrong...&quot;);
  } else {
    print(&quot;The world is still sane, for now...&quot;);
  }

  const foo: bool = true;
  if foo bar else baz

  print(nearOrFar(3.14));
  print(nearOrFar(6.28));

  const options = pair(2, 4);
  print(options[0]);
  print(options[1]);

  const options2 = 3 : 5;
  print(options2[0]);
  print(options2[1]);

  const val1 = 1 == 1 ? 1 : 2;
  const val2 = 1 == 0 ? 1 : 2;
  print(val1);
  print(val2);

  const val3 = cond(1 == 1, pair(3, 4));
  const val4 = cond(1 == 0, pair(3, 4));
  print(val3);
  print(val4);

  const val5 = 1 == 0 ? options2;
  print(val5);

  emit exit 0;
}
</code></pre></pre>
<p>This example demonstrates conditionals (if statements) and shows that the conditional &quot;scopes&quot; are actually functions, but due to how nested scope rules work, they can still manipulate the parent function scope as needed for execution to function. It also demonstrates &quot;ternary&quot; operators and how they are composed of <code>pair</code> and <code>cond</code> function calls.</p>
<!-- TODO: Restore these once we figure out how to do multi-file examples in mdbook and our browser-transpiled compiler
### `datetime.ln`

```rust,editable
from @std/app import print

export type Year {
  year: int32
}

export type YearMonth {
  year: int32,
  month: int8
}

export type Date {
  year: int32,
  month: int8,
  day: int8
}

export type Hour {
  hour: int8
}

export type HourMinute {
  hour: int8,
  minute: int8
}

export type Time {
  hour: int8,
  minute: int8,
  second: float64
}

export type DateTime {
  date: Date,
  time: Time,
  timezone: HourMinute
}

export fn makeYear(year: int32): Year {
  return new Year {
    year: year
  }
}

export fn makeYear(year: int64): Year {
  return new Year {
    year: toInt32(year)
  }
}

export fn makeYearMonth(year: int32, month: int8): YearMonth {
  return new YearMonth {
    year: year,
    month: month
  }
}

export fn makeYearMonth(y: Year, month: int64): YearMonth {
  return new YearMonth {
    year: y.year,
    month: toInt8(month)
  }
}

export fn makeDate(year: int32, month: int8, day: int8): Date {
  return new Date {
    year: year,
    month: month,
    day: day
  }
}

export fn makeDate(ym: YearMonth, day: int64): Date {
  return new Date {
    year: ym.year,
    month: ym.month,
    day: toInt8(day)
  }
}

export fn makeHour(hour: int8): Hour {
  return new Hour {
    hour: hour
  }
}

export fn makeHourMinute(hour: int8, minute: int8): HourMinute {
  return new HourMinute {
    hour: hour,
    minute: minute
  }
}

export fn makeHourMinute(hour: int64, minute: int64): HourMinute {
  return new HourMinute {
    hour: toInt8(hour),
    minute: toInt8(minute)
  }
}

export fn makeHourMinute(h: Hour, minute: int8): HourMinute {
  return new HourMinute {
    hour: h.hour,
    minute: minute
  }
}

export fn makeTime(hour: int8, minute: int8, second: float64): Time {
  return new Time {
    hour: hour,
    minute: minute,
    second: second
  }
}

export fn makeTime(hm: HourMinute, second: float64): Time {
  return new Time {
    hour: hm.hour,
    minute: hm.minute,
    second: second
  }
}

export fn makeTime(hm: HourMinute, second: int64): Time {
  return new Time {
    hour: hm.hour,
    minute: hm.minute,
    second: toFloat64(second)
  }
}

export fn makeDateTime(date: Date, time: Time, timezone: HourMinute): DateTime {
  return new DateTime {
    date: date,
    time: time,
    timezone: timezone
  }
}

export fn makeDateTime(date: Date, time: Time): DateTime {
  return new DateTime {
    date: date,
    time: time
  }
}

export fn makeDateTimeTimezone(dt: DateTime, timezone: HourMinute): DateTime {
  return new DateTime {
    date: dt.date,
    time: dt.time,
    timezone: timezone
  }
}

export fn makeDateTimeTimezoneRev(dt: DateTime, timezone: HourMinute): DateTime {
  return new DateTime {
    date: dt.date,
    time: dt.time,
    timezone: new HourMinute {
      hour: -timezone.hour,
      minute: timezone.minute
    }
  }
}

export fn print(dt: DateTime) {
  // TODO: Work on formatting stuff
  const timezoneOffsetSymbol = dt.timezone.hour < toInt8(0) ? "-" : "+";
  const str: string = concat(
    toString(dt.date.year), "-", toString(dt.date.month), "-", toString(dt.date.day), "@",
    toString(dt.time.hour), ":", toString(dt.time.minute), ":", toString(dt.time.second),
    timezoneOffsetSymbol, abs(dt.timezone.hour).toString(), ":", dt.timezone.minute.toString()
  );
  print(str);
}

export prefix # 2 makeYear

export infix - 2 makeYearMonth

export infix - 2 makeDate

export infix : 3 makeHourMinute

export infix : 3 makeTime

export infix @ 2 makeDateTime

export infix + 2 makeDateTimeTimezone

export infix - 2 makeDateTimeTimezoneRev
```

This more complex example defines a simplistic DateTime type and associated types, as well as various constructor functions and mappings of those onto operators.

### `test_datetime.ln`

```rust,editable
from @std/app import start, exit

from ./datetime import DateTime, print, #, -, :, @, +

on start fn {
  const dt: DateTime = #2020 - 01 - 15@09:45:00 - 08:00;
  print(dt);
  emit exit 0;
}
```

This file uses the `datetime.ln` file to very concisely define a time in ISO format and then print it out. It is a demonstration of how operators can be used to create compact-but-clear DSLs where you can still go to the source code to find out how and why it works.

### `method.ln`

```rust,editable
from @std/app import start, print, exit

from ./datetime import DateTime, print, #, -, :, @, +

on start fn {
  true.print();
  1.print();
  3.14159.print();
  "Hello, World!".print();

  const dt: DateTime = #2020 - 01 - 17@16:15:00 - 08:00;
  dt.print();

  print(3.add(2));
  3.add(2).print();
  (3 + 2).print();

  emit exit 0;
}
```

This example introduces method syntax, and shows multiple variants of the same statement at the end.

-->
<h3><a class="header" href="#stringln" id="stringln"><code>string.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

on start fn {
  const helloWorld: string = &quot;Hello, &quot; + &quot;World!&quot;;
  print(helloWorld);

  const helloWorldArr: Array&lt;string&gt; = helloWorld / &quot;, &quot;;
  print(helloWorldArr[0]);
  print(helloWorldArr[1]);

  const helloWorldArr2: Array&lt;string&gt; = helloWorld.split(&quot;, &quot;);
  print(helloWorldArr2[0]);
  print(helloWorldArr2[1]);

  print(&quot;Hi &quot; * 5);
  print(repeat(&quot;Hi &quot;, 5));

  print(helloWorld ~ &quot;or&quot;);
  print(helloWorld.matches(&quot;or&quot;));

  print(helloWorld @ &quot;or&quot;);
  helloWorld.index(&quot;or&quot;).print();

  print(#helloWorld);
  print(length(helloWorld));
  print(helloWorld.length());
  helloWorld.length().print();

  print(&quot;'&quot; + `(&quot;Hi &quot; * 5) + &quot;'&quot;);
  print(&quot;'&quot; + trim(repeat(&quot;Hi &quot;, 5)) + &quot;'&quot;);

  emit exit 0;
}
</code></pre></pre>
<p>This example exercises many string manipulation mechanisms and alternate syntaxes using operators and method style function calls.</p>
<h3><a class="header" href="#boxln" id="boxln"><code>box.ln</code></a></h3>
<pre><pre class="playpen"><code class="language-rust editable">from @std/app import start, print, exit

// Generic types don't need to be capitalized, but it tends to look nicer
type Box&lt;V&gt; {
  set: bool,
  val: V
}

on start fn {
  let int8Box = new Box&lt;int64&gt; {
    val: 8,
    set: true
  };
  print(int8Box.val);
  print(int8Box.set);

  let stringBox = new Box&lt;string&gt; {
    val: &quot;hello, generics!&quot;,
    set: true
  };
  print(stringBox.val);
  print(stringBox.set);

  const stringBoxBox = new Box&lt;Box&lt;string&gt;&gt; {
    val: new Box&lt;string&gt; {
      val: &quot;hello, nested generics!&quot;,
      set: true
    },
    set: true
  };
  stringBoxBox.set.print();
  stringBoxBox.val.set.print();
  print(stringBoxBox.val.val);

  // The following is a compile time error, uncomment to see!
  // stringBox.val = 8;

  emit exit 0;
}
</code></pre></pre>
<p>This example uses generics to define a Box type and how to work with it at a basic assignment level.</p>
<h1><a class="header" href="#transpile-alan-to-javascript" id="transpile-alan-to-javascript">Transpile Alan to Javascript</a></h1>
<p>Run Alan in the browser or Node.js.</p>
<h2><a class="header" href="#prerequisites" id="prerequisites">Prerequisites</a></h2>
<p>For <code>alan-js-runtime</code> Node.js is required, with a minimum version of 10.20.1.</p>
<h2><a class="header" href="#installation-1" id="installation-1">Installation</a></h2>
<p>To install <code>alan-js-runtime</code>, run:</p>
<pre><code class="language-bash">npm i -g alan-js-runtime
</code></pre>
<h2><a class="header" href="#writing-a-hello-world-example-1" id="writing-a-hello-world-example-1">Writing a Hello, World! Example</a></h2>
<p>Once everything is installed, first create a file named <code>hello_world.ln</code> and then write the following within it:</p>
<pre><pre class="playpen"><code class="language-rust editable">import @std/app

on app.start {
  app.print(&quot;Hello, World!&quot;);
  emit app.exit 0;
}
</code></pre></pre>
<p>Next run:</p>
<pre><code class="language-bash">alan compile hello_world.ln hello_world.js
</code></pre>
<p>This will produce a JS file that depends on the <code>alan-js-runtime</code>. If it is globally installed, you can simply run:</p>
<pre><code class="language-bash">node hello_world.js
</code></pre>
<p>which prints <code>Hello, World!</code></p>
<h1><a class="header" href="#contributing-to-alan" id="contributing-to-alan">Contributing to Alan</a></h1>
<p>Like most other open source projects, contributing to the Alan compiler or runtime requires a <a href="https://cla-assistant.io/alantech/">CLA Aggreement</a> and here is a current <a href="https://github.com/alantech/alan/contribute">list of good starter tasks</a>.</p>
<p>Let us know if you build an open source library or API client in Alan. We would love to review it, showcase it and/or just talk to you. Reach out on <a href="https://discord.gg/XatB9we">Discord</a> or email us at hello at alantechnologies dot com for any comments or questions :)</p>
<h1><a class="header" href="#compiler-internals" id="compiler-internals">Compiler Internals</a></h1>
<p>Alan's compiler is a multi-stage compiler written mostly in Typescript at the moment. There are two primary targets, the Alan Graphcode (AGC) format which is the native format for Alan offering all of the concurrency and parallelization benefits of the language, and Javascript transpilation which still offers concurrency but without the parallelization. It internally uses a branching compilation path involving two intermediate representations: Alan-- (AMM) and Alan Graphcode Assembler (AGA).</p>
<pre><code>       LN (aLaN)
        |
       AMM (Alan Minus Minus, simplified syntax)
      /   \
   JS      AGA (Alan Graphcode Assembler, dependency graph code in a text format)
            |
           AGC (Alan Graphcode, binary format for the runtime)
</code></pre>
<p><strong>LN</strong> is the high level language meant to be easily accessible, like a cleaned-up Typescript/JS. Automatic memory management, automatic IO concurrency, automatic event-level and array-level CPU parallelism (two tracks in the runtime right now), and a strict type system but with interfaces for defining generic functions that we believe we can write <a href="https://github.com/alantech/alan/blob/main/rfcs/006%20-%20Automatic%20Argument%20Interfaces%20RFC.md">100% automatic type inference with without the compiler requiring a fallback to an explicit type</a>.</p>
<p><strong>AMM</strong> is a heavily stripped-down version of the language but technically syntactically compatible. It only has constants, events, event handlers, functions, closures, function calls, and assignments. Everything else, including conditionals, is stripped away.</p>
<p><strong>JS:</strong> <em>AMM</em> looks surprisingly close to Javascript/Typescript, so a transpiler was written that mostly just strips out the type information and replaces all of opcode calls with method calls on <a href="https://github.com/alantech/alan/blob/main/js-runtime/index.js">a pretty simple runtime shim</a>.</p>
<p>The transpiled Javascript doesn't have any of the benefits of the language in terms of cpu parallelism or automatic concurrency, but with some extra intelligence in the transpilation and judicious use of WebWorker threads that could be restored.</p>
<p><strong>AGA</strong> looks very similar to assembly, but with annotation on events, closures, and the dependency graph that the Alan Runtime uses reorganize for concurrency and parallelism benefits.</p>
<p><strong>AGC</strong> is the binary version of <em>AGA</em> and is a near direct translation of the text to a 64-bit little-endian integer packed array, with keywords being given numeric values that are clearly interpretable as 8 UTF-8/ASCII characters.</p>
<p>The compiler contains as a set of AST generators for the various input formats (<a href="https://github.com/alantech/alan/tree/main/compiler/src/ln">ln</a>, <a href="https://github.com/alantech/alan/blob/main/compiler/src/amm.ts">amm</a>, <a href="https://github.com/alantech/alan/blob/main/compiler/src/aga.ts">aga</a>) with ln using <a href="https://www.antlr.org/">ANTLR</a> to define its grammar and the other two using our homegrown <a href="https://github.com/alantech/alan/blob/main/compiler/src/lp.ts">lp</a>.</p>
<p>Next, the compiler has the translation stages that go from one input format to another output format (<a href="https://github.com/alantech/alan/tree/main/compiler/src/lntoamm">lntoamm</a>, <a href="https://github.com/alantech/alan/blob/main/compiler/src/ammtojs.ts">ammtojs</a>, <a href="https://github.com/alantech/alan/blob/main/compiler/src/ammtoaga.ts">ammtoaga</a>, <a href="https://github.com/alantech/alan/blob/main/compiler/src/agatoagc.ts">agatoagc</a>).</p>
<p>While overkill at the moment, the compiler <a href="https://github.com/alantech/alan/blob/main/compiler/src/pipeline.ts">solves the shortest path from the specified input file to output file and constructs the pipeline to do so on the fly</a>. (This is much faster than it sounds and has allowed us to add new inputs/outputs and translation formats quickly.)</p>
<h2><a class="header" href="#ln-to-amm" id="ln-to-amm">LN to AMM</a></h2>
<p>The first stage of the compiler dominates with more than 90% of the total compile time, and within that, the ANTLR-generated parser takes over 99% of the time within the <code>lntoamm</code> layer. (Speeding this up is very important to us.) Once the AST is generated, the first layer transforms this into a scope-oriented collection of elements and then generates AMM code on a per-event-handler basis, finally it looks for constants in these handlers and hoists them to the global scope and deduplicates them, then emits this in the AMM format.</p>
<h2><a class="header" href="#amm-to-js-or-aga" id="amm-to-js-or-aga">AMM to JS or AGA</a></h2>
<p>The next stage of the compiler takes the AMM and converts it either into AGA or Javascript. Javascript is a very simple translation, as AMM was designed to look like a &quot;least common denominator scope-based language&quot; which is a very large number of popular languages, and particularly so for Javascript also having a built-in event loop versus that concept being a library. The AGA conversion takes a bit more time as the variables need to be assigned memory addresses during their run and nested scopes in event handlers pulled out into &quot;closure handlers&quot;, but both of these conversions, both the parsing of AMM and the generation of JS or AGA, take less than 1% of the time the first stage compiler takes.</p>
<h2><a class="header" href="#aga-to-agc" id="aga-to-agc">AGA to AGC</a></h2>
<p>If targeting to AGC, the final stage of the compiler converts the AGA to it with a very straightforward parse and re-emit into 64-bit integers appended to an array and then written to disk. This format doesn't work in the browser due to depending on Node.js's Buffer API as well as the new BigInt/BigUInt support it has, which no browser shim supports, yet, but thankfully that is not needed to build runnable code in the browser!</p>
<h2><a class="header" href="#amm-language-reference" id="amm-language-reference">AMM Language Reference</a></h2>
<p>Alan-- is an intentionally strict subset of Alan's grammar as an intermediate stage for compilation. It defines a relatively simple scope-based syntax that happens to be a perfectly suitable subset for converting to a variety of different languages, including conversion towards assembly-like languages (AGA) or other scope-based languages like Javascript.</p>
<p>The only syntactic elements left in the language are constants, let variables, let variable reassignment, events, event handlers, closure functions, and function calls. Everything else, including conditionals, is stripped away. These remaining elements also have some constraints placed on them versus their fuller representation in Alan proper.</p>
<p>Since imports and exports do not exist, this means all relevant code for a project has been inlined into the same output file. This means the file will be much larger, but also simpler to understand, since <em>everything</em> you need is inside of that file.</p>
<h3><a class="header" href="#constants-1" id="constants-1">Constants</a></h3>
<p>There are two categories of constants in Alan--, actual static constants like numbers, booleans, and strings, and constants that are the output of a function call.</p>
<p>Static constants must <em>all</em> be declared in the root scope at the top of the file. The only allowed static constants are of the following types: <code>int8</code>, <code>int16</code>, <code>int32</code>, <code>int64</code>, <code>float32</code>, <code>float64</code>, <code>bool</code>, <code>string</code>. Every other constant declared in an Alan source file is recomposed at runtime from these core components. (This may be revisited in the future if/when a safe, static representation format is defined for the runtime.) Unlike Alan, constants in Alan-- <em>must</em> have their types declared, like so:</p>
<!-- using ```alan works, but would be nicer to be able to use a ```amm in these examples -->
<pre><code class="language-alan">const foo: string = &quot;bar&quot;;
</code></pre>
<p>Constants output from function calls may <em>only</em> be housed within event handlers or closures and not declared in the root scope. These also must have the type data included.</p>
<h3><a class="header" href="#let-variables" id="let-variables">Let variables</a></h3>
<p>As with Alan, let variables may only be declared within event handlers or closure functions and never the root scope. They function identically with the type definition requirement.</p>
<pre><code class="language-alan">let a: int64 = 3;
</code></pre>
<h3><a class="header" href="#let-variable-reassignment" id="let-variable-reassignment">Let variable reassignment</a></h3>
<p>Let variable reassignment is also identical to Alan, happening with event handlers or closure functions and may cross scope boundaries.</p>
<pre><code class="language-alan">a = a + 3;
</code></pre>
<h3><a class="header" href="#events-and-loose-typing" id="events-and-loose-typing">Events (and loose typing)</a></h3>
<p>Also as with Alan, events are declared in the root scope and never within event handlers or closure functions. Unlike Alan, the event handlers do not need to declare the relevant metadata about their type structure. Any typename may be used indiscriminantly, and any type that is not one of the static constant types (or <code>void</code>) is assumed to be &quot;array-like&quot; and it is up to you as the developer to not mess up here.</p>
<p>In Alan--, array-like types are completely unguarded and may be cast at will to any relevant type. User types from Alan are reduced to arrays that have mixed types in Alan--, which is not allowed in Alan. This makes them essentially the same as arrays in Javascript, so the array index can refer to any kind of value, including nested arrays. The type safety of Alan is enforced in the first stage of the compiler and nowhere else.</p>
<pre><code class="language-alan">event stdout: string
</code></pre>
<h3><a class="header" href="#event-handlers" id="event-handlers">Event Handlers</a></h3>
<p>Event handlers are the same as in Alan, a single function is registered to an event and has either zero or one argument, with zero being the case only if the event is a <code>void</code> type. Multiple handler functions may be registered for the same event. These are the entrypoints for work in Alan--, with the <code>_start</code> event being a special event not needing declaration to use as the entrypoint for the entire application.</p>
<p>(It's called <code>_start</code> instead of <code>start</code> to give the Alan standard library the flexibility to inject some &quot;always run&quot; initial logic before triggering the developer's code.)</p>
<pre><code class="language-alan">on _start fn (): void { ...
</code></pre>
<h3><a class="header" href="#closure-functions" id="closure-functions">Closure Functions</a></h3>
<p>Closure functions can define an inner scope within an event handler and are assigned to a variable. In Alan you could call these functions directly, but in Alan-- you can only pass them to <a href="./alan_opcode_reference.html">opcode functions</a> to do some sort of work.</p>
<pre><code class="language-alan">on _start fn (): void {
  const closure: function = fn (): void { ...
</code></pre>
<h3><a class="header" href="#functions-calls" id="functions-calls">Functions Calls</a></h3>
<p>You can't actually declare functions not associated with an event in Alan--. All nested defined functions must be closures within an event. The only &quot;functions&quot; independent of the event handlers are the <a href="./alan_opcode_reference.html">opcodes defined by the runtime(s)</a>.</p>
<pre><code class="language-alan">on _start fn (): void {
  const val = addi64(a, a);
  ...
</code></pre>
<h3><a class="header" href="#thats-all-folks" id="thats-all-folks">That's all, folks!</a></h3>
<p>That's it for the language syntax. Really! It's a barely-typed, minimally-scoped, event-driven language that relies on the first stage of the compiler for safety.</p>
<p>The following simple Alan source example:</p>
<pre><code class="language-alan">import @std/app

on app.start {
  let exitCode = 0;
  if 1 == 0 {
    exitCode = 1;
  }
  app.print(&quot;Exit Code: &quot; + exitCode.toString());
  emit app.exit exitCode;
}
</code></pre>
<p>exercises <em>the entire Alan-- grammar</em>:</p>
<pre><code class="language-alan">const _250a4e2f_c064_4223_88bf_e39abd6dd877: int64 = 1
const _f35d4d37_8d09_4ada_82fa_1418cb79e998: int64 = 0
const _c8f78af1_501f_4235_963c_5d8be4bad6b3: string = &quot;Exit Code: &quot;
const _bedfde7a_badf_4c1d_863e_e388ac42b9cc: string = &quot;\n&quot;
event stdout: string
event exit: int8
on _start fn (): void {
  let _c683f98b_437e_4df9_85da_a2a6c327a238: int64 = 0
  const _d095305f_d756_4c19_b884_3a8fede9861d: bool = eqi64(_250a4e2f_c064_4223_88bf_e39abd6dd877, _f35d4d37_8d09_4ada_82fa_1418cb79e998)
  const _4ef487db_9de4_404b_84e2_521cb45cc55a: function = fn (): void {
    _c683f98b_437e_4df9_85da_a2a6c327a238 = 1
  }
  const _264c9102_8e7f_49e3_bce6_cf1e07f47b7c: any = condfn(_d095305f_d756_4c19_b884_3a8fede9861d, _4ef487db_9de4_404b_84e2_521cb45cc55a)
  const _f256ce86_7153_4ab1_b374_728a251f682c: string = i64str(_c683f98b_437e_4df9_85da_a2a6c327a238)
  const _9996a497_e19e_42e5_8785_68d3fd59663a: string = catstr(_c8f78af1_501f_4235_963c_5d8be4bad6b3, _f256ce86_7153_4ab1_b374_728a251f682c)
  const _8aeec8d8_79e2_4105_8652_d261d0fbde7c: string = catstr(_9996a497_e19e_42e5_8785_68d3fd59663a, _bedfde7a_badf_4c1d_863e_e388ac42b9cc)
  emit stdout _8aeec8d8_79e2_4105_8652_d261d0fbde7c
  emit exit _c683f98b_437e_4df9_85da_a2a6c327a238
}
on stdout fn (out: string): void {
  const _1015e87b_7164_4b53_b328_65940d8c6323: void = stdoutp(out)
}
on exit fn (status: int8): void {
  const _387b8e3c_9792_4455_a5b0_98bf479c03eb: void = exitop(status)
}
</code></pre>
<h2><a class="header" href="#aga-language-reference" id="aga-language-reference">AGA Language Reference</a></h2>
<p>Alan Graphcode Assembler is a text representation of the Runtime's VM binary format.</p>
<p>The syntax looks like assembly, perl, graphviz, rust, and python were put in a blender. As the cyclomatic complexity of an assembler (syntactically) is low, the various symbols within AGA borrowed from the above four are meant to produce a &quot;dense-but-legible&quot; syntax.</p>
<p>The format follows a header-and-body pattern, with 5 distinct header types.</p>
<h3><a class="header" href="#identity-header" id="identity-header">Identity Header</a></h3>
<p>The first header is also required in every Alan Graphcode Assembly file, is required to be the first header in the file, and has no body. It simply declares that this is an Alan Graphcode Assembler file:</p>
<pre><code class="language-aga">Alan Graphcode Assembler v0.0.1
</code></pre>
<h3><a class="header" href="#global-memory-header" id="global-memory-header">Global Memory Header</a></h3>
<p>The global memory header, <code>globalMem</code>, is required to be the next header <em>if</em> there is any global memory to declare.</p>
<p>The body of the global memory is a key-value set of addresses and constants.</p>
<p>Addresses in global memory are declared with a prefixed <code>@</code> symbol with negative values from <code>-1</code> to <code>-2^63 + 1</code> corresponding to the 0th to nth valid bytes of the global memory. Negative numbers are used to distinguish them from the virtual addresses within the handlers and closures defined later on.</p>
<p>These numbers corresponding to exactly the byte offsets necessary to pack the global memory into the final binary is currently the case but may change in the future, since it demands the developer know about details of the final binary format that they don't care about, such as strings being stored in AGC as pascal-style strings with a 64-bit integer length header and zero-padded at the end to reach an even 64-bit sizing in global memory but the length value being the raw string length without the zero-padding. Moving this work to the agatoagc layer is likely.</p>
<p>Values are only strings, booleans, numbers. Booleans are simply <code>true</code> or <code>false</code>, and strings are all C-escape-string styled strings with double quotes only. Numbers are Rust-style with the relevant numeric value written out and postfixed with the byte size and type: <code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code>, <code>f32</code>, <code>f64</code>.</p>
<p>The key-value pairs are separated from each other by colons and are one-per-line. The whole block is indented Python-style for legibility.</p>
<pre><code class="language-aga">globalMem
  @-1: 1i64
  @-9: 0i64
  @-17: &quot;Exit Code: &quot;
  @-41: &quot;\n&quot;
</code></pre>
<h3><a class="header" href="#custom-events-header" id="custom-events-header">Custom Events Header</a></h3>
<p>The custom events header, <code>customEvents</code>, is required to be the next header <em>if</em> there are any custom events.</p>
<p>The body of the custom events block also consists of key-value pairs. The keys are the names of the events and the values are the relevant payload size.</p>
<p>The names are treated like variable names and are unquoted following the normal pattern of <code>[A-Za-z_][A-Za-z0-9_]*</code>.</p>
<p>The values are integers (without a Rust-style sizing postfix) with only three valid values (as of now): <code>-1</code>, <code>0</code>, and <code>8</code>. <code>0</code> indicates that there is no payload at all, while <code>8</code> indicates that the payload is a fixed-sized type (the integers, floats, and booleans). <code>-1</code> indicates that the payload is a variable-sized type (strings and the array-based types). The fixed-sized types are all <code>8</code> because they all fit within a single 64-bit value (8 bytes).</p>
<pre><code class="language-aga">customEvents
  stdout: -1
  exit: 8
  _4ef487db_9de4_404b_84e2_521cb45cc55a: 0
</code></pre>
<h3><a class="header" href="#handlers-and-closures" id="handlers-and-closures">Handlers and Closures</a></h3>
<p>These two are grouped together because while a valid AGA file must have at least one handler, handlers and closures can be defined in any order from here on out and their syntax is almost identical. In fact, labeling a block as a handler or a closure is entirely up to you. They translate to the exact same bytes in the final AGC form and the distinction is to keep things clearer to the reader.</p>
<p>The header for handlers and closures follows the form:</p>
<pre><code class="language-aga">handler for &lt;eventName&gt; with size &lt;numVariables&gt;
closure for &lt;eventName&gt; with size &lt;numVariables&gt;
</code></pre>
<p>where <code>&lt;eventName&gt;</code> is the name of the event declared in <code>customEvents</code> <em>or</em> the built-in <code>_start</code> event, and <code>&lt;numVariables&gt;</code> is the total number of distinct memory addresses (not number of LOC in the handler or closure) used.</p>
<p>The body of the handler or closure consists of all lines following the header until the next handler or closure header is encountered, or the end-of-file. This body consists of a single kind of statement: an opcode call.</p>
<p>The structure of an opcode call can follow a few different forms, though. Most opcodes take two values as input, perform an operation, and store the results into a new address:</p>
<pre><code class="language-aga">  @1 = eqi64(@-1, @-9) #1
</code></pre>
<p>The return address is defined first like a variable assignment, with an equal sign in between it and the actual opcode call. The opcode itself has two arguments that are usually memory addresses, like above, and then it is followed by a line identifier that looks like a python comment.</p>
<p>That line identifier is what gives AGA the name &quot;Graphcode&quot; instead of &quot;bytecode&quot;. Sometimes it's followed with a Graphviz-style <code>&lt;-</code> operator and an array of other line identifiers:</p>
<pre><code class="language-aga">  emit(stdout, @5) #6 &lt;- [#5]
</code></pre>
<p>This is to indicate to the runtime that this particular line <em>must</em> be performed after the listed set of lines to prevent invalid data conditions, but otherwise will re-order the execution as desired to improve concurrency and/or parallelism when possible.</p>
<p>In this example, there is no assignment happening, because the <code>emit</code> opcode does not affect the current handler. It also takes as an argument the name of the relevant event that the data should be copied to.</p>
<p>Some opcodes can also have constant data defined for an argument:</p>
<pre><code class="language-aga">  @0 = seti64(0i64, @0) #0
</code></pre>
<p>This is only possible for the boolean and numeric types, as their values can fit within the address space (64-bit integers).</p>
<p>The positive addresses for a given handler or closure <em>must</em> be less than the specified size, but these addresses are virtual addresses with 64-bit sizing (literally for a 64-bit integer array in the runtime). Values that are larger than 64-bits <em>can</em> be stored within a single address here, as they are all treated as pointers, with special opcodes designed for their manipulation.</p>
<p>This makes hand-writing handlers and closures easier than hand-writing global memory at the moment, so that will hopefully change in the future.</p>
<h4><a class="header" href="#small-differences-for-closures" id="small-differences-for-closures">Small differences for closures</a></h4>
<p>There are a couple of smaller things that closures have versus actual handlers.</p>
<p>First, while closures and handlers are loaded the same way by the runtime, the invocation of a closure within the context of a handler does something different: the closure is given temporary ownership over the memory of the handler that invoked it, so the <code>with size &lt;numVariables&gt;</code> is STRONGLY RECOMMENDED to match between the two, and any addresses used in the one can and will affect the other (this is how the closure has access to mutating variables defined in its outer scope).</p>
<p>Second, some opcodes add some fake global memory addresses located in the last few sets of bytes around <code>-2^63 + 1</code>. These are used for closure arguments and return value when the closure is invoked within a looping construct like an array map operation. These values are in the same memory addresses across all closures but have different values for each invocation. Currently the <code>ammtoaga</code> compiler gives these ridiculously large negative addresses like <code>@-9223372036854775807</code> but adding a human-legible Perl-inspired aliases like <code>$0</code>, <code>$1</code>, etc for these argument addresses is likely to be followed in the future to make these similarly easier-to-read-and-write, and likely required when migrating the global memory numbers to be virtual addresses instead of actual (inverted) offsets.</p>
<h3><a class="header" href="#thats-all-folks-1" id="thats-all-folks-1">That's all, folks!</a></h3>
<p>That's it for AGA's syntax. It's a barely-typed, scope-less, event-driven assembly language that relies on the compiler for safety.</p>
<p>The following simple Alan source example:</p>
<pre><code class="language-alan">import @std/app

on app.start {
  let exitCode = 0
  if 1 == 0 {
    exitCode = 1
  }
  app.print(&quot;Exit Code: &quot; + exitCode.toString())
  emit app.exit exitCode
}
</code></pre>
<p>exercises everything about AGA except the closure arguments:</p>
<pre><code class="language-aga">Alan Graphcode Assembler v0.0.1

globalMem
  @-1: 1i64
  @-9: 0i64
  @-17: &quot;Exit Code: &quot;
  @-41: &quot;\n&quot;

customEvents
  stdout: -1
  exit: 8
  _4ef487db_9de4_404b_84e2_521cb45cc55a: 0

handler for _start with size 6
  @0 = seti64(0i64, @0) #0
  @1 = eqi64(@-1, @-9) #1
  @2 = condfn(@1, _4ef487db_9de4_404b_84e2_521cb45cc55a) #2
  @3 = i64str(@0, @0) #3
  @4 = catstr(@-17, @3) #4
  @5 = catstr(@4, @-41) #5
  emit(stdout, @5) #6 &lt;- [#5]
  emit(exit, @0) #7 &lt;- [#0]

handler for stdout with size 2
  @1 = stdoutp(@0, @0) #0

handler for exit with size 2
  @1 = exitop(@0, @0) #0

closure for _4ef487db_9de4_404b_84e2_521cb45cc55a with size 6
  @0 = seti64(1i64, @0) #0
</code></pre>
<h2><a class="header" href="#alan-opcode-reference" id="alan-opcode-reference">Alan Opcode Reference</a></h2>
<p>The <a href="./standard_library.html">Alan Standard Library</a>, <a href="./amm_language_reference.html">AMM</a>, and <a href="./aga_language_reference.html">AGA</a> formats all make extensive use of opcodes defined within the runtime to do useful work.</p>
<p>The Alan runtime opcodes are identified with a 64-bit integer and have exactly 3 64-bit arguments. The 64-bit integers have been chosen to match a space-padded string of the name of the opcode (therefore allowing the opcodes to have names from 1-8 ASCII characters long). Most opcodes use the first two arguments as input addresses and the last argument as an output address, but some treat them as constants, event ids, or ignored values.</p>
<p>The following table will specify the opcode name followed by the three arguments (arg0, arg1, arg2) with the kind of argument given (IN = Input Address, OUT = Output Address, CONST = Constant Value, EVENT = Event Name, NULL = Ignored) and then a short description of what that opcode does. A few opcodes will have an UNSAFE flag on them in their description. These opcodes can potentially crash the runtime if called incorrectly and rely on the compiler to use them wisely.</p>
<table>
  <thead>
    <tr>
      <td>Opcode</td><td>arg0</td><td>arg1</td><td>arg2</td><td>Description</td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>i8f64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i8 to an f64</td>
    </tr>
    <tr>
      <td><code>i16f64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i16 to an f64</td>
    </tr>
    <tr>
      <td><code>i32f64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i32 to an f64</td>
    </tr>
    <tr>
      <td><code>i64f64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i64 to an f64</td>
    </tr>
    <tr>
      <td><code>f32f64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f32 to an f64</td>
    </tr>
    <tr>
      <td><code>strf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a string to an f64</td>
    </tr>
    <tr>
      <td><code>boolf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a bool to an f64</td>
    </tr>
    <tr>
      <td><code>i8f32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i8 to an f32</td>
    </tr>
    <tr>
      <td><code>i16f32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i16 to an f32</td>
    </tr>
    <tr>
      <td><code>i32f32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i32 to an f32</td>
    </tr>
    <tr>
      <td><code>i64f32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i64 to an f32</td>
    </tr>
    <tr>
      <td><code>f64f32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f64 to an f32</td>
    </tr>
    <tr>
      <td><code>strf32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a string to an f32</td>
    </tr>
    <tr>
      <td><code>boolf32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a bool to an f32</td>
    </tr>
    <tr>
      <td><code>i8i64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i8 to an i64</td>
    </tr>
    <tr>
      <td><code>i16i64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i16 to an i64</td>
    </tr>
    <tr>
      <td><code>i32i64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i32 to an i64</td>
    </tr>
    <tr>
      <td><code>f32i64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f32 to an i64</td>
    </tr>
    <tr>
      <td><code>f64i64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f64 to an i64</td>
    </tr>
    <tr>
      <td><code>stri64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a string to an i64</td>
    </tr>
    <tr>
      <td><code>booli64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a bool to an i64</td>
    </tr>
    <tr>
      <td><code>i8i32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i8 to an i32</td>
    </tr>
    <tr>
      <td><code>i16i32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i16 to an i32</td>
    </tr>
    <tr>
      <td><code>i64i32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i64 to an i32</td>
    </tr>
    <tr>
      <td><code>f32i32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f32 to an i32</td>
    </tr>
    <tr>
      <td><code>f64i32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f64 to an i32</td>
    </tr>
    <tr>
      <td><code>stri32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a string to an i32</td>
    </tr>
    <tr>
      <td><code>booli32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a bool to an i32</td>
    </tr>
    <tr>
      <td><code>i8i16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i8 to an i16</td>
    </tr>
    <tr>
      <td><code>i32i16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i32 to an i16</td>
    </tr>
    <tr>
      <td><code>i64i16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i64 to an i16</td>
    </tr>
    <tr>
      <td><code>f32i16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f32 to an i16</td>
    </tr>
    <tr>
      <td><code>f64i16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f64 to an i16</td>
    </tr>
    <tr>
      <td><code>stri16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a string to an i16</td>
    </tr>
    <tr>
      <td><code>booli16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a bool to an i16</td>
    </tr>
    <tr>
      <td><code>i16i8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i16 to an i8</td>
    </tr>
    <tr>
      <td><code>i32i8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i32 to an i8</td>
    </tr>
    <tr>
      <td><code>i64i8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i64 to an i8</td>
    </tr>
    <tr>
      <td><code>f32i8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f32 to an i8</td>
    </tr>
    <tr>
      <td><code>f64i8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f64 to an i8</td>
    </tr>
    <tr>
      <td><code>stri8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a string to an i8</td>
    </tr>
    <tr>
      <td><code>booli8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a bool to an i8</td>
    </tr>
    <tr>
      <td><code>i8bool</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i8 to a bool</td>
    </tr>
    <tr>
      <td><code>i16bool</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i16 to a bool</td>
    </tr>
    <tr>
      <td><code>i32bool</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i32 to a bool</td>
    </tr>
    <tr>
      <td><code>i64bool</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i64 to a bool</td>
    </tr>
    <tr>
      <td><code>f32bool</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f32 to a bool</td>
    </tr>
    <tr>
      <td><code>f64bool</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f64 to a bool</td>
    </tr>
    <tr>
      <td><code>strbool</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a string to a bool</td>
    </tr>
    <tr>
      <td><code>i8str</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i8 to a string</td>
    </tr>
    <tr>
      <td><code>i16str</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i16 to a string</td>
    </tr>
    <tr>
      <td><code>i32str</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i32 to a string</td>
    </tr>
    <tr>
      <td><code>i64str</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an i64 to a string</td>
    </tr>
    <tr>
      <td><code>f32str</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f32 to a string</td>
    </tr>
    <tr>
      <td><code>f64str</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts an f64 to a string</td>
    </tr>
    <tr>
      <td><code>boolstr</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Converts a bool to a string</td>
    </tr>
    <tr>
      <td><code>addi8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Adds two i8's together</td>
    </tr>
    <tr>
      <td><code>addi16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Adds two i16's together</td>
    </tr>
    <tr>
      <td><code>addi32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Adds two i32's together</td>
    </tr>
    <tr>
      <td><code>addi64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Adds two i64's together</td>
    </tr>
    <tr>
      <td><code>addf32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Adds two f32's together</td>
    </tr>
    <tr>
      <td><code>addf64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Adds two f64's together</td>
    </tr>
    <tr>
      <td><code>subi8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Subtracts the second i8 from the first</td>
    </tr>
    <tr>
      <td><code>subi16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Subtracts the second i16 from the first</td>
    </tr>
    <tr>
      <td><code>subi32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Subtracts the second i32 from the first</td>
    </tr>
    <tr>
      <td><code>subi64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Subtracts the second i64 from the first</td>
    </tr>
    <tr>
      <td><code>subf32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Subtracts the second f32 from the first</td>
    </tr>
    <tr>
      <td><code>subf64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Subtracts the second f64 from the first</td>
    </tr>
    <tr>
      <td><code>negi8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Negates the i8</td>
    </tr>
    <tr>
      <td><code>negi16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Negates the i16</td>
    </tr>
    <tr>
      <td><code>negi32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Negates the i32</td>
    </tr>
    <tr>
      <td><code>negi64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Negates the i64</td>
    </tr>
    <tr>
      <td><code>negf32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Negates the f32</td>
    </tr>
    <tr>
      <td><code>negf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Negates the f64</td>
    </tr>
    <tr>
      <td><code>absi8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Makes the i8 magnitude positive</td>
    </tr>
    <tr>
      <td><code>absi16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Makes the i16 magnitude positive</td>
    </tr>
    <tr>
      <td><code>absi32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Makes the i32 magnitude positive</td>
    </tr>
    <tr>
      <td><code>absi64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Makes the i64 magnitude positive</td>
    </tr>
    <tr>
      <td><code>absf32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Makes the f32 magnitude positive</td>
    </tr>
    <tr>
      <td><code>absf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Makes the f64 magnitude positive</td>
    </tr>
    <tr>
      <td><code>muli8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Multiplies the two i8's together</td>
    </tr>
    <tr>
      <td><code>muli16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Multiplies the two i16's together</td>
    </tr>
    <tr>
      <td><code>muli32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Multiplies the two i32's together</td>
    </tr>
    <tr>
      <td><code>muli64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Multiplies the two i64's together</td>
    </tr>
    <tr>
      <td><code>mulf32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Multiplies the two f32's together</td>
    </tr>
    <tr>
      <td><code>mulf64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Multiplies the two f64's together</td>
    </tr>
    <tr>
      <td><code>divi8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first i8 by the second</td>
    </tr>
    <tr>
      <td><code>divi16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first i16 by the second</td>
    </tr>
    <tr>
      <td><code>divi32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first i32 by the second</td>
    </tr>
    <tr>
      <td><code>divi64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first i64 by the second</td>
    </tr>
    <tr>
      <td><code>divf32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first f32 by the second</td>
    </tr>
    <tr>
      <td><code>divf64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first f64 by the second</td>
    </tr>
    <tr>
      <td><code>modi8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first i8 by the second and returns the remainder</td>
    </tr>
    <tr>
      <td><code>modi16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first i16 by the second and returns the remainder</td>
    </tr>
    <tr>
      <td><code>modi32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first i32 by the second and returns the remainder</td>
    </tr>
    <tr>
      <td><code>modi64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Divides the first i64 by the second and returns the remainder</td>
    </tr>
    <tr>
      <td><code>powi8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Raises the first i8 by the second's power</td>
    </tr>
    <tr>
      <td><code>powi16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Raises the first i16 by the second's power</td>
    </tr>
    <tr>
      <td><code>powi32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Raises the first i32 by the second's power</td>
    </tr>
    <tr>
      <td><code>powi64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Raises the first i64 by the second's power</td>
    </tr>
    <tr>
      <td><code>powf32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Raises the first f32 by the second's power</td>
    </tr>
    <tr>
      <td><code>powf64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Raises the first f64 by the second's power</td>
    </tr>
    <tr>
      <td><code>sqrtf32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the square root of the f32</td>
    </tr>
    <tr>
      <td><code>sqrtf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the square root of the f64</td>
    </tr>
    <tr>
      <td><code>andi8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise and of the two i8's</td>
    </tr>
    <tr>
      <td><code>andi16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise and of the two i16's</td>
    </tr>
    <tr>
      <td><code>andi32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise and of the two i32's</td>
    </tr>
    <tr>
      <td><code>andi64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise and of the two i64's</td>
    </tr>
    <tr>
      <td><code>andbool</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the boolean and of the two bool's</td>
    </tr>
    <tr>
      <td><code>ori8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise or of the two i8's</td>
    </tr>
    <tr>
      <td><code>ori16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise or of the two i16's</td>
    </tr>
    <tr>
      <td><code>ori32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise or of the two i32's</td>
    </tr>
    <tr>
      <td><code>ori64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise or of the two i64's</td>
    </tr>
    <tr>
      <td><code>orbool</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the boolean or of the two bool's</td>
    </tr>
    <tr>
      <td><code>xori8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise xor of the two i8's</td>
    </tr>
    <tr>
      <td><code>xori16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise xor of the two i16's</td>
    </tr>
    <tr>
      <td><code>xori32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise xor of the two i32's</td>
    </tr>
    <tr>
      <td><code>xori64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise xor of the two i64's</td>
    </tr>
    <tr>
      <td><code>xorbool</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the boolean xor of the two bool's</td>
    </tr>
    <tr>
      <td><code>noti8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the bitwise not of the i8</td>
    </tr>
    <tr>
      <td><code>noti16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the bitwise not of the i16</td>
    </tr>
    <tr>
      <td><code>noti32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the bitwise not of the i32</td>
    </tr>
    <tr>
      <td><code>noti64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the bitwise not of the i64</td>
    </tr>
    <tr>
      <td><code>notbool</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the boolean not of the bool</td>
    </tr>
    <tr>
      <td><code>nandi8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise nand of the two i8's</td>
    </tr>
    <tr>
      <td><code>nandi16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise nand of the two i16's</td>
    </tr>
    <tr>
      <td><code>nandi32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise nand of the two i32's</td>
    </tr>
    <tr>
      <td><code>nandi64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise nand of the two i64's</td>
    </tr>
    <tr>
      <td><code>nandboo</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the boolean nand of the two bool's</td>
    </tr>
    <tr>
      <td><code>nori8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise nor of the two i8's</td>
    </tr>
    <tr>
      <td><code>nori16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise nor of the two i16's</td>
    </tr>
    <tr>
      <td><code>nori32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise nor of the two i32's</td>
    </tr>
    <tr>
      <td><code>nori64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise nor of the two i64's</td>
    </tr>
    <tr>
      <td><code>norbool</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the boolean nor of the two bool's</td>
    </tr>
    <tr>
      <td><code>xnori8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise xnor of the two i8's</td>
    </tr>
    <tr>
      <td><code>xnori16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise xnor of the two i16's</td>
    </tr>
    <tr>
      <td><code>xnori32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise xnor of the two i32's</td>
    </tr>
    <tr>
      <td><code>xnori64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the bitwise xnor of the two i64's</td>
    </tr>
    <tr>
      <td><code>xnorboo</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the boolean xnor of the two bool's</td>
    </tr>
    <tr>
      <td><code>eqi8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two i8's are equal</td>
    </tr>
    <tr>
      <td><code>eqi16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two i16's are equal</td>
    </tr>
    <tr>
      <td><code>eqi32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two i32's are equal</td>
    </tr>
    <tr>
      <td><code>eqi64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two i64's are equal</td>
    </tr>
    <tr>
      <td><code>eqf32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two f32's are equal</td>
    </tr>
    <tr>
      <td><code>eqf64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two f64's are equal</td>
    </tr>
    <tr>
      <td><code>eqstr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two str's are equal</td>
    </tr>
    <tr>
      <td><code>eqbool</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two bool's are equal</td>
    </tr>
    <tr>
      <td><code>neqi8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two i8's are not equal</td>
    </tr>
    <tr>
      <td><code>neqi16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two i16's are not equal</td>
    </tr>
    <tr>
      <td><code>neqi32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two i32's are not equal</td>
    </tr>
    <tr>
      <td><code>neqi64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two i64's are not equal</td>
    </tr>
    <tr>
      <td><code>neqf32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two f32's are not equal</td>
    </tr>
    <tr>
      <td><code>neqf64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two f64's are not equal</td>
    </tr>
    <tr>
      <td><code>neqstr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two str's are not equal</td>
    </tr>
    <tr>
      <td><code>neqbool</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the two bool's are not equal</td>
    </tr>
    <tr>
      <td><code>lti8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i8 is less than the second</td>
    </tr>
    <tr>
      <td><code>lti16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i16 is less than the second</td>
    </tr>
    <tr>
      <td><code>lti32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i32 is less than the second</td>
    </tr>
    <tr>
      <td><code>lti64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i64 is less than the second</td>
    </tr>
    <tr>
      <td><code>ltf32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first f32 is less than the second</td>
    </tr>
    <tr>
      <td><code>ltf64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first f64 is less than the second</td>
    </tr>
    <tr>
      <td><code>ltstr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first str is less than the second</td>
    </tr>
    <tr>
      <td><code>ltei8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i8 is less than or equal to the second</td>
    </tr>
    <tr>
      <td><code>ltei16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i16 is less than or equal to the second</td>
    </tr>
    <tr>
      <td><code>ltei32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i32 is less than or equal to the second</td>
    </tr>
    <tr>
      <td><code>ltei64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i64 is less than or equal to the second</td>
    </tr>
    <tr>
      <td><code>ltef32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first f32 is less than or equal to the second</td>
    </tr>
    <tr>
      <td><code>ltef64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first f64 is less than or equal to the second</td>
    </tr>
    <tr>
      <td><code>ltestr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first str is less than or equal to the second</td>
    </tr>
    <tr>
      <td><code>gti8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i8 is greater than the second</td>
    </tr>
    <tr>
      <td><code>gti16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i16 is greater than the second</td>
    </tr>
    <tr>
      <td><code>gti32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i32 is greater than the second</td>
    </tr>
    <tr>
      <td><code>gti64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i64 is greater than the second</td>
    </tr>
    <tr>
      <td><code>gtf32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first f32 is greater than the second</td>
    </tr>
    <tr>
      <td><code>gtf64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first f64 is greater than the second</td>
    </tr>
    <tr>
      <td><code>gtstr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first str is greater than the second</td>
    </tr>
    <tr>
      <td><code>gtei8</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i8 is greater than or equal to the second</td>
    </tr>
    <tr>
      <td><code>gtei16</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i16 is greater than or equal to the second</td>
    </tr>
    <tr>
      <td><code>gtei32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i32 is greater than or equal to the second</td>
    </tr>
    <tr>
      <td><code>gtei64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first i64 is greater than or equal to the second</td>
    </tr>
    <tr>
      <td><code>gtef32</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first f32 is greater than or equal to the second</td>
    </tr>
    <tr>
      <td><code>gtef64</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first f64 is greater than or equal to the second</td>
    </tr>
    <tr>
      <td><code>gtestr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the first str is greater than or equal to the second</td>
    </tr>
    <tr>
      <td><code>catstr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Concatenates the first string to the second (non-mutating result in output)</td>
    </tr>
    <tr>
      <td><code>split</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Splits the first string by all occurrences of the second into a new array of strings</td>
    </tr>
    <tr>
      <td><code>repstr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Repeats the string (first arg) by the specified number of occurrences (second arg) in a new string (output arg)</td>
    </tr>
    <tr>
      <td><code>matches</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines if the second arg string, treated as a regular expression, matches the first string</td>
    </tr>
    <tr>
      <td><code>indstr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Determines the index of the second string occurring within the first string and returns it as a Result, or errors</td>
    </tr>
    <tr>
      <td><code>lenstr</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the length of the string</td>
    </tr>
    <tr>
      <td><code>trim</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Removes leading and trailing whitespace from the string</td>
    </tr>
    <tr>
      <td><code>copyfrom</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Treats the first argument as an array, the second argument as an index, and makes a duplicate of the array's nth element and stores it in the output argument (UNSAFE)</td>
    </tr>
    <tr>
      <td><code>copytof</code></td><td>IN</td><td>IN</td><td>IN</td><td>Treats the first argument as an array, the second argument as an index, and the third argument as the address of fixed data and stores that fixed data in the array at the specified index (UNSAFE)</td>
    </tr>
    <tr>
      <td><code>copytov</code></td><td>IN</td><td>IN</td><td>IN</td><td>Treats the first argument as an array, the second argument as an index, and the third argument as the address of an array of data and stores a copy of that second array within the first array at the specified address (UNSAFE)</td>
    </tr>
    <tr>
      <td><code>register</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Treats the first argument as an array, the second argument as an index, and places a pointer to the array's nth element and stores it in the output argument (UNSAFE)</td>
    </tr>
    <tr>
      <td><code>newarr</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Creates a new array of the specified initial size and stores it at the output address</td>
    </tr>
    <tr>
      <td><code>pusharr</code></td><td>IN</td><td>IN</td><td>IN</td><td>Treats the first argument as an array, the second argument as the address of a value, and the third argument as a flag on whether the value is a fixed or array type, and pushes a duplicate of that value into the array</td>
    </tr>
    <tr>
      <td><code>poparr</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Pops the last element off of the specified array and returns it in a Result object, or returns an error if the array is empty</td>
    </tr>
    <tr>
      <td><code>lenarr</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the length of the array</td>
    </tr>
    <tr>
      <td><code>indarrf</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Treats the first argument as an array, the second argument as a fixed value, and returns a result-wrapped index the value is first seen in the array, or an error</td>
    </tr>
    <tr>
      <td><code>indarrv</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Treats the first argument as an array, the second argument as an array value, and returns a result-wrapped index the value is first seen in the array, or an error</td>
    </tr>
    <tr>
      <td><code>join</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Treats the first argument as an array of strings, the second argument as a string, and returns a new string where the string array elements are joined together with the second argument in between</td>
    </tr>
    <tr>
      <td><code>map</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and the second argument as an event ID that a single event handler should be registered to (it will only trigger the first one). It then has that handler mutate the array one element at a time and returns the results as a new array. Done in parallel if the array is large enough.</td>
    </tr>
    <tr>
      <td><code>mapl</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and the second argument as an event ID that a single event handler should be registered to (it will only trigger the first one). It then has that handler mutate the array one element at a time and returns the results as a new array. Done sequentially.</td>
    </tr>
    <tr>
      <td><code>reparr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Treats the first argument as an array and creates a new array made up with n duplicates based on the value of the second argument</td>
    </tr>
    <tr>
      <td><code>each</code></td><td>IN</td><td>EVENT</td><td>NULL</td><td>Treats the first argument as an array and the second argument as an event ID, which it then executes for each element of the array in any order.</td>
    </tr>
    <tr>
      <td><code>eachl</code></td><td>IN</td><td>EVENT</td><td>NULL</td><td>Treats the first argument as an array and the second argument as an event ID, which it then executes for each element sequentially</td>
    </tr>
    <tr>
      <td><code>find</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and the second argument as an event ID, which it then executes in parallel to find the first value that passes the test of the second argument and returns Result-wrapped, or errors. Still returns the first such value in the array, not the first encountered.</td>
    </tr>
    <tr>
      <td><code>findl</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and the second argument as an event ID, which it then executes sequentially to find the first value that passes the test of the second argument and returns Result-wrapped, or errors.</td>
    </tr>
    <tr>
      <td><code>every</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and tests every element with the second argument in parallel, and returns true only if all elements return true.</td>
    </tr>
    <tr>
      <td><code>everyl</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and tests every element with the second argument sequentially, and returns true only if all elements return true.</td>
    </tr>
    <tr>
      <td><code>some</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and tests every element with the second argument in parallel, and returns true if any element return true.</td>
    </tr>
    <tr>
      <td><code>somel</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and tests every element with the second argument sequentially, and returns true if any element return true.</td>
    </tr>
    <tr>
      <td><code>filter</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and test every element with the second argument in parallel, putting the element in the new array if it passes the test</td>
    </tr>
    <tr>
      <td><code>filterl</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and test every element with the second argument sequentially, putting the element in the new array if it passes the test</td>
    </tr>
    <tr>
      <td><code>reducel</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and the second argument as an event ID, which it executes sequentially to combine array elements together (maintaining the same type throughout) and finally returning the combined form</td>
    </tr>
    <tr>
      <td><code>reducep</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as an array and the second argument as an event ID, which it executes in parallel to combine array elements together (maintaining the same type throughout) and finally returning the combined form. Requires the reducer function to be commutative.</td>
    </tr>
    <tr>
      <td><code>foldl</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as a special array that houses the actual array in the first address and the initial value to reduce with in the second address. This allows for the output to store as a new type, with the initial value being of the same type as the output. The second argument has the event ID to perform the reduction with and this is executed sequentially.</td>
    </tr>
    <tr>
      <td><code>foldp</code></td><td>IN</td><td>EVENT</td><td>OUT</td><td>Treats the first argument as a special array that houses the actual array in the first address and the initial value to reduce with in the second address. This allows for the output to store as a new type, with the initial value being of the same type as the output. The second argument has the event ID to perform the reduction with and this is executed in parallel. This means the initial value will be merged in one OR MORE times and therefore the merging operation with that value must be idempotent, and the reducer function must be commutative.</td>
    </tr>
    <tr>
      <td><code>catarr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Creates a new array consisting first of the elements of the first array and second of the elements of the second array.</td>
    </tr>
    <tr>
      <td><code>condfn</code></td><td>IN</td><td>EVENT</td><td>NULL</td><td>Uses the first argument as a boolean to check if the second argument, an event ID, should be executed or not</td>
    </tr>
    <tr>
      <td><code>copyi8</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the i8 to a new address</td>
    </tr>
    <tr>
      <td><code>copyi16</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the i16 to a new address</td>
    </tr>
    <tr>
      <td><code>copyi32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the i32 to a new address</td>
    </tr>
    <tr>
      <td><code>copyi64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the i64 to a new address</td>
    </tr>
    <tr>
      <td><code>copyvoid</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the void to a new address</td>
    </tr>
    <tr>
      <td><code>copyf32</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the f32 to a new address</td>
    </tr>
    <tr>
      <td><code>copyf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the f64 to a new address</td>
    </tr>
    <tr>
      <td><code>copybool</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the bool to a new address</td>
    </tr>
    <tr>
      <td><code>copystr</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the str to a new address</td>
    </tr>
    <tr>
      <td><code>copyarr</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Copies the array to a new address</td>
    </tr>
    <tr>
      <td><code>zeroed</code></td><td>NULL</td><td>NULL</td><td>OUT</td><td>Blanks the specified address</td>
    </tr>
    <tr>
      <td><code>lnf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric ln on the f64</td>
    </tr>
    <tr>
      <td><code>logf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric log on the f64</td>
    </tr>
    <tr>
      <td><code>sinf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric sin on the f64</td>
    </tr>
    <tr>
      <td><code>cosf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric cos on the f64</td>
    </tr>
    <tr>
      <td><code>tanf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric tan on the f64</td>
    </tr>
    <tr>
      <td><code>asinf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric asin on the f64</td>
    </tr>
    <tr>
      <td><code>acosf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric acos on the f64</td>
    </tr>
    <tr>
      <td><code>atanf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric atan on the f64</td>
    </tr>
    <tr>
      <td><code>sinhf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric sinh on the f64</td>
    </tr>
    <tr>
      <td><code>coshf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric cosh on the f64</td>
    </tr>
    <tr>
      <td><code>tanhf64</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes a trigonometric tanh on the f64</td>
    </tr>
    <tr>
      <td><code>error</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Turns the specified error message into an Error type</td>
    </tr>
    <tr>
      <td><code>noerr</code></td><td>NULL</td><td>NULL</td><td>OUT</td><td>Creates an empty non-error Error</td>
    </tr>
    <tr>
      <td><code>errorstr</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Extracts the error message from the Error</td>
    </tr>
    <tr>
      <td><code>someM</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Wraps the provided value in a Maybe type</td>
    </tr>
    <tr>
      <td><code>noneM</code></td><td>NULL</td><td>NULL</td><td>OUT</td><td>Creates an empty Maybe</td>
    </tr>
    <tr>
      <td><code>isSome</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Tests if the Maybe has a value</td>
    </tr>
    <tr>
      <td><code>isNone</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Tests if the Maybe has no value</td>
    </tr>
    <tr>
      <td><code>getOrM</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Extracts the value from the Maybe in the first argument, or returns the default value in the second argument</td>
    </tr>
    <tr>
      <td><code>okR</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Wraps the provided value in a Result type</td>
    </tr>
    <tr>
      <td><code>err</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Wraps the provided error message in a Result type</td>
    </tr>
    <tr>
      <td><code>isOk</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Tests if the Result has a successful value</td>
    </tr>
    <tr>
      <td><code>isErr</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Tests if the Result has an error value</td>
    </tr>
    <tr>
      <td><code>getOrR</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the Result-wrapped value or the default value</td>
    </tr>
    <tr>
      <td><code>getOrRS</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the Result-wrapped string or the default string (workaround for kink involving strings in global memory)</td>
    </tr>
    <tr>
      <td><code>getR</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the Result-wrapped value or crashes the runtime (UNSAFE)</td>
    </tr>
    <tr>
      <td><code>getErr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the Result-wrapped error or a default error value</td>
    </tr>
    <tr>
      <td><code>resfrom</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Looks up the value of the index (second argument of the array (first argument) and returns that value Result-wrapped, or returns a Result-wrapped error</td>
    </tr>
    <tr>
      <td><code>mainE</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Creates an Either-wrapped main value</td>
    </tr>
    <tr>
      <td><code>altE</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Creates an Either-wrapped alternate value</td>
    </tr>
    <tr>
      <td><code>isMain</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Tests if the Etiher is a main value</td>
    </tr>
    <tr>
      <td><code>isAlt</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Tests if the Either is an alternate value</td>
    </tr>
    <tr>
      <td><code>mainOr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the Either-wrapped main value or the default value</td>
    </tr>
    <tr>
      <td><code>altOr</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns the Either-wrapped alt value or the default value</td>
    </tr>
    <tr>
      <td><code>hashf</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the 64-bit hash of the specified fixed value</td>
    </tr>
    <tr>
      <td><code>hashv</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns the 64-bit hash of the specified array value</td>
    </tr>
    <tr>
      <td><code>dssetf</code></td><td>IN</td><td>IN</td><td>IN</td><td>Stores the specified fixed value (third argument) in the namespace (first argument) and key (second argument) pair</td>
    </tr>
    <tr>
      <td><code>dssetv</code></td><td>IN</td><td>IN</td><td>IN</td><td>Stores the specified array value (third argument) in the namespace (first argument) and key (second argument) pair</td>
    </tr>
    <tr>
      <td><code>dshas</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Checks the namespace (first argument) and key (second argument) pair for the presence of a value</td>
    </tr>
    <tr>
      <td><code>dsdel</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Checks the namespace (first argument) and key (second argument) pair for the presence of a value and returns that status. If there was a value it also removes it.</td>
    </tr>
    <tr>
      <td><code>dsgetf</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns a Result-wrapped fixed value (or error) for the specified namespace-key pair</td>
    </tr>
    <tr>
      <td><code>dsgetv</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns a Result-wrapped array value (or error) for the specified namespace-key pair</td>
    </tr>
    <tr>
      <td><code>httpget</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Returns a Result-wrapped string (or error) for the specified URL request</td>
    </tr>
    <tr>
      <td><code>httppost</code></td><td>IN</td><td>IN</td><td>OUT</td><td>Returns a Result-wrapped string (or error) for the specified post URL and body</td>
    </tr>
    <tr>
      <td><code>httplsn</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Starts an HTTP server on the specified port and returns a Result-wrapped 'ok' string or an Error</td>
    </tr>
    <tr>
      <td><code>httpsend</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>For a given connection response payload, send that payload to the client requesting it and returns a Result-wrapped 'ok' string or an Error if it failed</td>
    </tr>
    <tr>
      <td><code>waitop</code></td><td>IN</td><td>NULL</td><td>NULL</td><td>Waits the specified number of milliseconds, then continues execution</td>
    </tr>
    <tr>
      <td><code>execop</code></td><td>IN</td><td>NULL</td><td>OUT</td><td>Executes the specified shell string and returns the exit code and stdout and stderr strings in an array</td>
    </tr>
    <tr>
      <td><code>stdoutp</code></td><td>IN</td><td>NULL</td><td>NULL</td><td>Writes the specified string to standard output</td>
    </tr>
    <tr>
      <td><code>exitop</code></td><td>IN</td><td>NULL</td><td>NULL</td><td>Terminates the process with the specified exit code</td>
    </tr>
  </tbody>
</table>

            </main>

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                

                

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
        

        
    </nav>

</div>



<!-- Analytics Tag -->
<script type="text/javascript">
    var localAddrs = ["localhost", "127.0.0.1", ""];

    // make sure we don't activate analytics if the developer is
    // inspecting the book locally...
    if (localAddrs.indexOf(document.location.hostname) === -1) {
        !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var t=analytics.methods[e];analytics[t]=analytics.factory(t)}analytics.load=function(e,t){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=t};analytics.SNIPPET_VERSION="4.1.0";
            analytics.load("fGya8GY5wLqdnLzyXnGM2HjYglPszWS0");
            analytics.page("Docs", "");
        }}();
    }
</script>


    <script type="text/javascript">
        window.playpen_line_numbers = true;
    </script>



    <script type="text/javascript">
        window.playpen_copyable = true;
    </script>



    <script src="ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>



    <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="searcher.js" type="text/javascript" charset="utf-8"></script>


<!-- BigInt is not defined in Safari. Define it before loading bundle.js -->
<script type="text/javascript">
    window.BigInt = window.BigInt || function() {}
</script>

<script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="highlight.js" type="text/javascript" charset="utf-8"></script>
<!-- Custom JS scripts -->

    <script type="text/javascript" src="bundle.js"></script>

    <script type="text/javascript" src="hljs-alan.min.js"></script>

    <script type="text/javascript" src="mode-rust.js"></script>

    <script type="text/javascript" src="theme-solarized_dark.js"></script>

    <script type="text/javascript" src="theme-solarized_light.js"></script>

<script src="book.js" type="text/javascript" charset="utf-8"></script>

</body>
</html>
